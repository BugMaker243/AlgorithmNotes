# labuladongçš„ç®—æ³•ç¬”è®°æ¡†æ¶

# 1ã€é“¾è¡¨

## 1.1 åŒæŒ‡é’ˆæŠ€å·§ç§’æ€ä¸ƒé“é“¾è¡¨é¢˜ç›®

æ­¤é¡µå†…å®¹

- [åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨)
- [å•é“¾è¡¨çš„åˆ†è§£](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#å•é“¾è¡¨çš„åˆ†è§£)
- [åˆå¹¶ k ä¸ªæœ‰åºé“¾è¡¨](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#åˆå¹¶-k-ä¸ªæœ‰åºé“¾è¡¨)
- [å•é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#å•é“¾è¡¨çš„å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹)
- [å•é“¾è¡¨çš„ä¸­ç‚¹](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#å•é“¾è¡¨çš„ä¸­ç‚¹)
- [åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯)
- [ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤)

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [141. Linked List Cycle](https://leetcode.com/problems/linked-list-cycle/) | [141. ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/linked-list-cycle/) |  ğŸŸ¢   |
| [142. Linked List Cycle II](https://leetcode.com/problems/linked-list-cycle-ii/) | [142. ç¯å½¢é“¾è¡¨ II](https://leetcode.cn/problems/linked-list-cycle-ii/) |  ğŸŸ    |
| [160. Intersection of Two Linked Lists](https://leetcode.com/problems/intersection-of-two-linked-lists/) | [160. ç›¸äº¤é“¾è¡¨](https://leetcode.cn/problems/intersection-of-two-linked-lists/) |  ğŸŸ¢   |
| [19. Remove Nth Node From End of List](https://leetcode.com/problems/remove-nth-node-from-end-of-list/) | [19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/) |  ğŸŸ    |
| [21. Merge Two Sorted Lists](https://leetcode.com/problems/merge-two-sorted-lists/) | [21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/) |  ğŸŸ¢   |
| [23. Merge k Sorted Lists](https://leetcode.com/problems/merge-k-sorted-lists/) | [23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨](https://leetcode.cn/problems/merge-k-sorted-lists/) |  ğŸ”´   |
| [86. Partition List](https://leetcode.com/problems/partition-list/) | [86. åˆ†éš”é“¾è¡¨](https://leetcode.cn/problems/partition-list/) |  ğŸŸ    |
| [876. Middle of the Linked List](https://leetcode.com/problems/middle-of-the-linked-list/) | [876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹](https://leetcode.cn/problems/middle-of-the-linked-list/) |  ğŸŸ¢   |
|                              -                               | [å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/) |  ğŸŸ¢   |

å‰ç½®çŸ¥è¯†

é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š

- [é“¾è¡¨åŸºç¡€](https://labuladong.online/algo/data-structure-basic/linkedlist-basic/)

### [åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨)

è¿™æ˜¯æœ€åŸºæœ¬çš„é“¾è¡¨æŠ€å·§ï¼ŒåŠ›æ‰£ç¬¬ 21 é¢˜ã€Œ[åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/)ã€å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œç»™ä½ è¾“å…¥ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼Œè¯·ä½ æŠŠä»–ä¿©åˆå¹¶æˆä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/merge-two-sorted-lists/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/merge-two-sorted-lists/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„<span>&nbsp;</span><strong style="font-weight: 600;">å‡åº</strong><span>&nbsp;</span>é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/03/merge_ex1.jpg" style="max-width: 100%; width: 662px; height: 302px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>l1 = [1,2,4], l2 = [1,3,4]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,1,2,3,4,4]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>l1 = [], l2 = []
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>l1 = [], l2 = [0]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[0]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>ä¸¤ä¸ªé“¾è¡¨çš„èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">[0, 50]</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-100 &lt;= Node.val &lt;= 100</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">l1</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">l2</code><span>&nbsp;</span>å‡æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">éé€’å‡é¡ºåº</strong><span>&nbsp;</span>æ’åˆ—</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/merge-two-sorted-lists/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a>ã€‚</strong></details>

```java
class Solution {
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        // è™šæ‹Ÿå¤´ç»“ç‚¹
        ListNode dummy = new ListNode(-1), p = dummy;
        ListNode p1 = l1, p2 = l2;
        
        while (p1 != null && p2 != null) {
            // æ¯”è¾ƒ p1 å’Œ p2 ä¸¤ä¸ªæŒ‡é’ˆ
            // å°†å€¼è¾ƒå°çš„çš„èŠ‚ç‚¹æ¥åˆ° p æŒ‡é’ˆ
            if (p1.val > p2.val) {
                p.next = p2;
                p2 = p2.next;
            } else {
                p.next = p1;
                p1 = p1.next;
            }
            // p æŒ‡é’ˆä¸æ–­å‰è¿›
            p = p.next;
        }
        
        if (p1 != null) {
            p.next = p1;
        }
        
        if (p2 != null) {
            p.next = p2;
        }
        
        return dummy.next;
    }
}
```



### [å•é“¾è¡¨çš„åˆ†è§£](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#å•é“¾è¡¨çš„åˆ†è§£)

ç›´æ¥çœ‹ä¸‹åŠ›æ‰£ç¬¬ 86 é¢˜ã€Œ[åˆ†éš”é“¾è¡¨](https://leetcode.cn/problems/partition-list/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">86. åˆ†éš”é“¾è¡¨</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/partition-list/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/partition-list/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">head</code><span>&nbsp;</span>å’Œä¸€ä¸ªç‰¹å®šå€¼<em><span>&nbsp;</span></em><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">x</code><span>&nbsp;</span>ï¼Œè¯·ä½ å¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰<span>&nbsp;</span><strong style="font-weight: 600;">å°äº</strong><span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">x</code><span>&nbsp;</span>çš„èŠ‚ç‚¹éƒ½å‡ºç°åœ¨<span>&nbsp;</span><strong style="font-weight: 600;">å¤§äºæˆ–ç­‰äº</strong><span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">x</code><span>&nbsp;</span>çš„èŠ‚ç‚¹ä¹‹å‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ åº”å½“<span>&nbsp;</span><strong style="font-weight: 600;">ä¿ç•™</strong><span>&nbsp;</span>ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/01/04/partition.jpg" style="max-width: 100%; width: 662px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,4,3,2,5,2], x = 3
<strong style="font-weight: 600;">è¾“å‡º</strong>ï¼š[1,2,2,4,3,5]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [2,1], x = 2
<strong style="font-weight: 600;">è¾“å‡º</strong>ï¼š[1,2]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">[0, 200]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-100 &lt;= Node.val &lt;= 100</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-200 &lt;= x &lt;= 200</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/partition-list/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 86. åˆ†éš”é“¾è¡¨</a>ã€‚</strong></details>

```java
class Solution {
    public ListNode partition(ListNode head, int x) {
        // å­˜æ”¾å°äº x çš„é“¾è¡¨çš„è™šæ‹Ÿå¤´ç»“ç‚¹
        ListNode dummy1 = new ListNode(-1);
        // å­˜æ”¾å¤§äºç­‰äº x çš„é“¾è¡¨çš„è™šæ‹Ÿå¤´ç»“ç‚¹
        ListNode dummy2 = new ListNode(-1);
        // p1, p2 æŒ‡é’ˆè´Ÿè´£ç”Ÿæˆç»“æœé“¾è¡¨
        ListNode p1 = dummy1, p2 = dummy2;
        // p è´Ÿè´£éå†åŸé“¾è¡¨ï¼Œç±»ä¼¼åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„é€»è¾‘
        // è¿™é‡Œæ˜¯å°†ä¸€ä¸ªé“¾è¡¨åˆ†è§£æˆä¸¤ä¸ªé“¾è¡¨
        ListNode p = head;
        while (p != null) {
            if (p.val >= x) {
                p2.next = p;
                p2 = p2.next;
            } else {
                p1.next = p;
                p1 = p1.next;
            }
            // ä¸èƒ½ç›´æ¥è®© p æŒ‡é’ˆå‰è¿›ï¼Œ
            // p = p.next
            // æ–­å¼€åŸé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„ next æŒ‡é’ˆ
            ListNode temp = p.next;
            p.next = null;
            p = temp;
        }
        // è¿æ¥ä¸¤ä¸ªé“¾è¡¨
        p1.next = dummy2.next;

        return dummy1.next;
    }
}
```



### [åˆå¹¶ `k` ä¸ªæœ‰åºé“¾è¡¨](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#åˆå¹¶-k-ä¸ªæœ‰åºé“¾è¡¨)

çœ‹ä¸‹åŠ›æ‰£ç¬¬ 23 é¢˜ã€Œ[åˆå¹¶Kä¸ªå‡åºé“¾è¡¨](https://leetcode.cn/problems/merge-k-sorted-lists/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/merge-k-sorted-lists/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/merge-k-sorted-lists/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>lists = [[1,4,5],[1,3,4],[2,6]]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,1,2,3,4,4,5,6]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>é“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š
[
  1-&gt;4-&gt;5,
  1-&gt;3-&gt;4,
  2-&gt;6
]
å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚
1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>lists = []
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>lists = [[]]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k == lists.length</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= k &lt;= 10^4</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= lists[i].length &lt;= 500</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-10^4 &lt;= lists[i][j] &lt;= 10^4</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">lists[i]</code><span>&nbsp;</span>æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">å‡åº</strong><span>&nbsp;</span>æ’åˆ—</li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">lists[i].length</code><span>&nbsp;</span>çš„æ€»å’Œä¸è¶…è¿‡<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">10^4</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/merge-k-sorted-lists/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨</a>ã€‚</strong></details>

è¿™é‡Œæˆ‘ä»¬å°±è¦ç”¨åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„ï¼ŒæŠŠé“¾è¡¨èŠ‚ç‚¹æ”¾å…¥ä¸€ä¸ªæœ€å°å †ï¼Œå°±å¯ä»¥æ¯æ¬¡è·å¾— `k` ä¸ªèŠ‚ç‚¹ä¸­çš„æœ€å°èŠ‚ç‚¹ã€‚å…³äºä¼˜å…ˆçº§é˜Ÿåˆ—å¯ä»¥å‚è€ƒ [ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆäºŒå‰å †ï¼‰åŸç†åŠå®ç°](https://labuladong.online/algo/data-structure-basic/binary-heap-implement/)ï¼Œæœ¬æ–‡ä¸å±•å¼€ã€‚

```java
class Solution {
    public ListNode mergeKLists(ListNode[] lists) {
        if (lists.length == 0) return null;
        // è™šæ‹Ÿå¤´ç»“ç‚¹
        ListNode dummy = new ListNode(-1);
        ListNode p = dummy;
        // ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæœ€å°å †
        PriorityQueue<ListNode> pq = new PriorityQueue<>(
            lists.length, (a, b)->(a.val - b.val));
        // å°† k ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹åŠ å…¥æœ€å°å †
        for (ListNode head : lists) {
            if (head != null) {
                pq.add(head);
            }
        }

        while (!pq.isEmpty()) {
            // è·å–æœ€å°èŠ‚ç‚¹ï¼Œæ¥åˆ°ç»“æœé“¾è¡¨ä¸­
            ListNode node = pq.poll();
            p.next = node;
            if (node.next != null) {
                pq.add(node.next);
            }
            // p æŒ‡é’ˆä¸æ–­å‰è¿›
            p = p.next;
        }
        return dummy.next;
    }
}
```

è¿™é“é¢˜è¿˜æœ‰ä¸€ä¸ªç»å…¸çš„è§£æ³•ï¼Œåœ¨ [åˆ†æ²»ç®—æ³•æ ¸å¿ƒæ¡†æ¶](https://labuladong.online/algo/essential-technique/divide-and-conquer/) ä¸­è¯¦ç»†è®²è§£ï¼Œè¿™é‡Œä¸å±•å¼€ã€‚

### [å•é“¾è¡¨çš„å€’æ•°ç¬¬ `k` ä¸ªèŠ‚ç‚¹](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#å•é“¾è¡¨çš„å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹)

```java
// è¿”å›é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹
ListNode findFromEnd(ListNode head, int k) {
    ListNode p1 = head;
    // p1 å…ˆèµ° k æ­¥
    for (int i = 0; i < k; i++) {
        p1 = p1.next;
    }
    ListNode p2 = head;
    // p1 å’Œ p2 åŒæ—¶èµ° n - k æ­¥
    while (p1 != null) {
        p2 = p2.next;
        p1 = p1.next;
    }
    // p2 ç°åœ¨æŒ‡å‘ç¬¬ n - k + 1 ä¸ªèŠ‚ç‚¹ï¼Œå³å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹
    return p2;
}
```



<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/remove-nth-node-from-end-of-list/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n</code><em>&nbsp;</em>ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/03/remove_ex1.jpg" style="max-width: 100%; width: 542px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2,3,4,5], n = 2
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2,3,5]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1], n = 1
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2], n = 1
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é“¾è¡¨ä¸­ç»“ç‚¹çš„æ•°ç›®ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">sz</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= sz &lt;= 30</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= Node.val &lt;= 100</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= n &lt;= sz</code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a>ã€‚</strong></details>

```java
class Solution {
    public ListNode removeNthFromEnd(ListNode head, int n) {
        // è™šæ‹Ÿå¤´ç»“ç‚¹
        ListNode dummy = new ListNode(-1);
        dummy.next = head;
        // åˆ é™¤å€’æ•°ç¬¬ n ä¸ªï¼Œè¦å…ˆæ‰¾å€’æ•°ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹
        ListNode x = findFromEnd(dummy, n + 1);
        // åˆ æ‰å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹
        x.next = x.next.next;
        return dummy.next;
    }
        
    private ListNode findFromEnd(ListNode head, int k) {
        // ä»£ç è§ä¸Šæ–‡
    }
}
```



### [å•é“¾è¡¨çš„ä¸­ç‚¹](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#å•é“¾è¡¨çš„ä¸­ç‚¹)

```java
class Solution {
    public ListNode middleNode(ListNode head) {
        // å¿«æ…¢æŒ‡é’ˆåˆå§‹åŒ–æŒ‡å‘ head
        ListNode slow = head, fast = head;
        // å¿«æŒ‡é’ˆèµ°åˆ°æœ«å°¾æ—¶åœæ­¢
        while (fast != null && fast.next != null) {
            // æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
            slow = slow.next;
            fast = fast.next.next;
        }
        // æ…¢æŒ‡é’ˆæŒ‡å‘ä¸­ç‚¹
        return slow;
    }
}
```



### [åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯)

```java
class Solution {
    public boolean hasCycle(ListNode head) {
        // å¿«æ…¢æŒ‡é’ˆåˆå§‹åŒ–æŒ‡å‘ head
        ListNode slow = head, fast = head;
        // å¿«æŒ‡é’ˆèµ°åˆ°æœ«å°¾æ—¶åœæ­¢
        while (fast != null && fast.next != null) {
            // æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
            slow = slow.next;
            fast = fast.next.next;
            // å¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜å«æœ‰ç¯
            if (slow == fast) {
                return true;
            }
        }
        // ä¸åŒ…å«ç¯
        return false;
    }
}
```



è¿™ä¸ªé—®é¢˜è¿˜æœ‰è¿›é˜¶ç‰ˆï¼Œä¹Ÿæ˜¯åŠ›æ‰£ç¬¬ 142 é¢˜ã€Œ[ç¯å½¢é“¾è¡¨ II](https://leetcode.cn/problems/linked-list-cycle-ii/)ã€ï¼šå¦‚æœé“¾è¡¨ä¸­å«æœ‰ç¯ï¼Œå¦‚ä½•è®¡ç®—è¿™ä¸ªç¯çš„èµ·ç‚¹ï¼Ÿ

ä¸¾ä¸ªä¾‹å­ï¼Œç¯çš„èµ·ç‚¹æ˜¯æŒ‡ä¸‹é¢è¿™å¹…å›¾ä¸­çš„èŠ‚ç‚¹ 2ï¼š

![img](https://labuladong.online/algo/images/linked-list-two-pointer/circularlinkedlist.png)

```java
class Solution {
    public ListNode detectCycle(ListNode head) {
        ListNode fast, slow;
        fast = slow = head;
        while (fast != null && fast.next != null) {
            fast = fast.next.next;
            slow = slow.next;
            if (fast == slow) break;
        }
        // ä¸Šé¢çš„ä»£ç ç±»ä¼¼ hasCycle å‡½æ•°
        if (fast == null || fast.next == null) {
            // fast é‡åˆ°ç©ºæŒ‡é’ˆè¯´æ˜æ²¡æœ‰ç¯
            return null;
        }

        // é‡æ–°æŒ‡å‘å¤´ç»“ç‚¹
        slow = head;
        // å¿«æ…¢æŒ‡é’ˆåŒæ­¥å‰è¿›ï¼Œç›¸äº¤ç‚¹å°±æ˜¯ç¯èµ·ç‚¹
        while (slow != fast) {
            fast = fast.next;
            slow = slow.next;
        }
        return slow;
    }
}
```

å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè®©å…¶ä¸­ä»»ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œç„¶åè®©å®ƒä¿©ä»¥ç›¸åŒé€Ÿåº¦å‰è¿›ï¼Œå†æ¬¡ç›¸é‡æ—¶æ‰€åœ¨çš„èŠ‚ç‚¹ä½ç½®å°±æ˜¯ç¯å¼€å§‹çš„ä½ç½®ã€‚

ä¸ºä»€ä¹ˆè¦è¿™æ ·å‘¢ï¼Ÿè¿™é‡Œç®€å•è¯´ä¸€ä¸‹å…¶ä¸­çš„åŸç†ã€‚

æˆ‘ä»¬å‡è®¾å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆ `slow` èµ°äº† `k` æ­¥ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆ `fast` ä¸€å®šèµ°äº† `2k` æ­¥ï¼š

![img](https://labuladong.online/algo/images/linked-two-pointer/3.jpeg)

`fast` ä¸€å®šæ¯” `slow` å¤šèµ°äº† `k` æ­¥ï¼Œè¿™å¤šèµ°çš„ `k` æ­¥å…¶å®å°±æ˜¯ `fast` æŒ‡é’ˆåœ¨ç¯é‡Œè½¬åœˆåœˆï¼Œæ‰€ä»¥ `k` çš„å€¼å°±æ˜¯ç¯é•¿åº¦çš„ã€Œæ•´æ•°å€ã€ã€‚

å‡è®¾ç›¸é‡ç‚¹è·ç¯çš„èµ·ç‚¹çš„è·ç¦»ä¸º `m`ï¼Œé‚£ä¹ˆç»“åˆä¸Šå›¾çš„ `slow` æŒ‡é’ˆï¼Œç¯çš„èµ·ç‚¹è·å¤´ç»“ç‚¹ `head` çš„è·ç¦»ä¸º `k - m`ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä» `head` å‰è¿› `k - m` æ­¥å°±èƒ½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚

å·§çš„æ˜¯ï¼Œå¦‚æœä»ç›¸é‡ç‚¹ç»§ç»­å‰è¿› `k - m` æ­¥ï¼Œä¹Ÿæ°å¥½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚å› ä¸ºç»“åˆä¸Šå›¾çš„ `fast` æŒ‡é’ˆï¼Œä»ç›¸é‡ç‚¹å¼€å§‹èµ°kæ­¥å¯ä»¥è½¬å›åˆ°ç›¸é‡ç‚¹ï¼Œé‚£èµ° `k - m` æ­¥è‚¯å®šå°±èµ°åˆ°ç¯èµ·ç‚¹äº†ï¼š

![img](https://labuladong.online/algo/images/linked-two-pointer/2.jpeg)

æ‰€ä»¥ï¼Œåªè¦æˆ‘ä»¬æŠŠå¿«æ…¢æŒ‡é’ˆä¸­çš„ä»»ä¸€ä¸ªé‡æ–°æŒ‡å‘ `head`ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåŒé€Ÿå‰è¿›ï¼Œ`k - m` æ­¥åä¸€å®šä¼šç›¸é‡ï¼Œç›¸é‡ä¹‹å¤„å°±æ˜¯ç¯çš„èµ·ç‚¹äº†ã€‚



### [ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/#ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤)

è¿™ä¸ªé—®é¢˜æœ‰æ„æ€ï¼Œä¹Ÿæ˜¯åŠ›æ‰£ç¬¬ 160 é¢˜ã€Œ[ç›¸äº¤é“¾è¡¨](https://leetcode.cn/problems/intersection-of-two-linked-lists/)ã€

![img](https://labuladong.online/algo/images/linked-list-two-pointer/4.png)

è§£æ³•

![img](https://labuladong.online/algo/images/linked-list-two-pointer/6.jpeg)

```java
class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        // p1 æŒ‡å‘ A é“¾è¡¨å¤´ç»“ç‚¹ï¼Œp2 æŒ‡å‘ B é“¾è¡¨å¤´ç»“ç‚¹
        ListNode p1 = headA, p2 = headB;
        while (p1 != p2) {
            // p1 èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ° A é“¾è¡¨æœ«å°¾ï¼Œè½¬åˆ° B é“¾è¡¨
            if (p1 == null) {
                p1 = headB;
            } else {
                p1 = p1.next;
            }
            // p2 èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ° B é“¾è¡¨æœ«å°¾ï¼Œè½¬åˆ° A é“¾è¡¨
            if (p2 == null) {
                p2 = headA;
            } else{
                p2 = p2.next;
            }
        }
        return p1;
    }
}
```



**2022/1/24 æ›´æ–°**ï¼š

å¦‚æœæŠŠä¸¤æ¡é“¾è¡¨é¦–å°¾ç›¸è¿ï¼Œé‚£ä¹ˆã€Œå¯»æ‰¾ä¸¤æ¡é“¾è¡¨çš„äº¤ç‚¹ã€çš„é—®é¢˜è½¬æ¢æˆäº†å‰é¢è®²çš„ã€Œå¯»æ‰¾ç¯èµ·ç‚¹ã€çš„é—®é¢˜ï¼š

![img](https://labuladong.online/algo/images/linked-list-two-pointer/7.png)

ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é“é¢˜è¯´ä¸è®©ä½ æ”¹å˜åŸå§‹é“¾è¡¨çš„ç»“æ„ï¼Œæ‰€ä»¥ä½ æŠŠé¢˜ç›®è¾“å…¥çš„é“¾è¡¨è½¬åŒ–æˆç¯å½¢é“¾è¡¨æ±‚è§£ä¹‹åè®°å¾—è¿˜è¦æ”¹å›æ¥ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ã€‚

å¦å¤–ï¼Œè¿˜æœ‰è¯»è€…æåˆ°ï¼Œæ—¢ç„¶ã€Œå¯»æ‰¾ä¸¤æ¡é“¾è¡¨çš„äº¤ç‚¹ã€çš„æ ¸å¿ƒåœ¨äºè®© `p1` å’Œ `p2` ä¸¤ä¸ªæŒ‡é’ˆèƒ½å¤ŸåŒæ—¶åˆ°è¾¾ç›¸äº¤èŠ‚ç‚¹ `c1`ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡é¢„å…ˆè®¡ç®—ä¸¤æ¡é“¾è¡¨çš„é•¿åº¦æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```java
class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        int lenA = 0, lenB = 0;
        // è®¡ç®—ä¸¤æ¡é“¾è¡¨çš„é•¿åº¦
        for (ListNode p1 = headA; p1 != null; p1 = p1.next) {
            lenA++;
        }
        for (ListNode p2 = headB; p2 != null; p2 = p2.next) {
            lenB++;
        }
        // è®© p1 å’Œ p2 åˆ°è¾¾å°¾éƒ¨çš„è·ç¦»ç›¸åŒ
        ListNode p1 = headA, p2 = headB;
        if (lenA > lenB) {
            for (int i = 0; i < lenA - lenB; i++) {
                p1 = p1.next;
            }
        } else {
            for (int i = 0; i < lenB - lenA; i++) {
                p2 = p2.next;
            }
        }
        // çœ‹ä¸¤ä¸ªæŒ‡é’ˆæ˜¯å¦ä¼šç›¸åŒï¼Œp1 == p2 æ—¶æœ‰ä¸¤ç§æƒ…å†µï¼š
        // 1ã€è¦ä¹ˆæ˜¯ä¸¤æ¡é“¾è¡¨ä¸ç›¸äº¤ï¼Œä»–ä¿©åŒæ—¶èµ°åˆ°å°¾éƒ¨ç©ºæŒ‡é’ˆ
        // 2ã€è¦ä¹ˆæ˜¯ä¸¤æ¡é“¾è¡¨ç›¸äº¤ï¼Œä»–ä¿©èµ°åˆ°ä¸¤æ¡é“¾è¡¨çš„ç›¸äº¤ç‚¹
        while (p1 != p2) {
            p1 = p1.next;
            p2 = p2.next;
        }
        return p1;
    }
}
```

è™½ç„¶ä»£ç å¤šä¸€äº›ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦æ˜¯è¿˜æ˜¯ O(N)ï¼Œè€Œä¸”ä¼šæ›´å®¹æ˜“ç†è§£ä¸€äº›ã€‚



## 1.2 åˆ¤æ–­å›æ–‡é“¾è¡¨

### å¦‚ä½•åˆ¤æ–­å›æ–‡é“¾è¡¨

å†…å®¹

- [ä¸€ã€åˆ¤æ–­å›æ–‡å•é“¾è¡¨](https://labuladong.online/algo/data-structure/palindrome-linked-list/#ä¸€ã€åˆ¤æ–­å›æ–‡å•é“¾è¡¨)
- [äºŒã€ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦](https://labuladong.online/algo/data-structure/palindrome-linked-list/#äºŒã€ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦)
- [ä¸‰ã€æœ€åæ€»ç»“](https://labuladong.online/algo/data-structure/palindrome-linked-list/#ä¸‰ã€æœ€åæ€»ç»“)

æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [234. Palindrome Linked List](https://leetcode.com/problems/palindrome-linked-list/) | [234. å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/palindrome-linked-list/) |  ğŸŸ¢   |

å‰ç½®çŸ¥è¯†

é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š

- [é“¾è¡¨åŸºç¡€](https://labuladong.online/algo/data-structure-basic/linkedlist-basic/)
- [é“¾è¡¨åŒæŒ‡é’ˆæŠ€å·§](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/)
- [æ•°ç»„åŒæŒ‡é’ˆæŠ€å·§æ±‡æ€»](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/)



**å¯»æ‰¾**å›æ–‡ä¸²çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»ä¸­å¿ƒå‘ä¸¤ç«¯æ‰©å±•ï¼š

```java
// åœ¨ s ä¸­å¯»æ‰¾ä»¥ s[left] å’Œ s[right] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²
String palindrome(String s, int left, int right) {
    // é˜²æ­¢ç´¢å¼•è¶Šç•Œ
    while (left >= 0 && right < s.length()
            && s.charAt(left) == s.charAt(right)) {
        // åŒæŒ‡é’ˆï¼Œå‘ä¸¤è¾¹å±•å¼€
        left--;
        right++;
    }
    // è¿”å›ä»¥ s[left] å’Œ s[right] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²
    return s.substring(left + 1, right);
}
```

å› ä¸ºå›æ–‡ä¸²é•¿åº¦å¯èƒ½ä¸ºå¥‡æ•°ä¹Ÿå¯èƒ½æ˜¯å¶æ•°ï¼Œé•¿åº¦ä¸ºå¥‡æ•°æ—¶åªå­˜åœ¨ä¸€ä¸ªä¸­å¿ƒç‚¹ï¼Œè€Œé•¿åº¦ä¸ºå¶æ•°æ—¶å­˜åœ¨ä¸¤ä¸ªä¸­å¿ƒç‚¹ï¼Œæ‰€ä»¥ä¸Šé¢è¿™ä¸ªå‡½æ•°éœ€è¦ä¼ å…¥ `l` å’Œ `r`ã€‚

è€Œ**åˆ¤æ–­**ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²å°±ç®€å•å¾ˆå¤šï¼Œä¸éœ€è¦è€ƒè™‘å¥‡å¶æƒ…å†µï¼Œåªéœ€è¦[åŒæŒ‡é’ˆæŠ€å·§](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/)ï¼Œä»ä¸¤ç«¯å‘ä¸­é—´é€¼è¿‘å³å¯ï¼š

```java
boolean isPalindrome(String s) {
    // ä¸€å·¦ä¸€å³ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œ
    int left = 0, right = s.length() - 1;
    while (left < right) {
        if (s.charAt(left) != s.charAt(right)) {
            return false;
        }
        left++;
        right--;
    }
    return true;
}
```

**å› ä¸ºå›æ–‡ä¸²æ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥æ­£ç€è¯»å’Œå€’ç€è¯»åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸€ç‰¹ç‚¹æ˜¯è§£å†³å›æ–‡ä¸²é—®é¢˜çš„å…³é”®**ã€‚



### [ä¸€ã€åˆ¤æ–­å›æ–‡å•é“¾è¡¨](https://labuladong.online/algo/data-structure/palindrome-linked-list/#ä¸€ã€åˆ¤æ–­å›æ–‡å•é“¾è¡¨)

çœ‹ä¸‹åŠ›æ‰£ç¬¬ 234 é¢˜ã€Œ[å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/palindrome-linked-list/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">234. å›æ–‡é“¾è¡¨</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/palindrome-linked-list/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/palindrome-linked-list/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">head</code><span>&nbsp;</span>ï¼Œè¯·ä½ åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦ä¸º<span data-keyword="palindrome-sequence">å›æ–‡é“¾è¡¨</span>ã€‚å¦‚æœæ˜¯ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">true</code><span>&nbsp;</span>ï¼›å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">false</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/03/pal1linked-list.jpg" style="max-width: 100%; width: 422px; height: 62px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2,2,1]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/03/03/pal2linked-list.jpg" style="max-width: 100%; width: 182px; height: 62px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">[1, 10<sup>5</sup>]</code><span>&nbsp;</span>å†…</li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= Node.val &lt;= 9</code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ èƒ½å¦ç”¨&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">O(n)</code><span>&nbsp;</span>æ—¶é—´å¤æ‚åº¦å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">O(1)</code><span>&nbsp;</span>ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/palindrome-linked-list/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 234. å›æ–‡é“¾è¡¨</a>ã€‚</strong></details>

```java
class Solution {
    // ä»å·¦å‘å³ç§»åŠ¨çš„æŒ‡é’ˆ
    ListNode left;
    // ä»å³å‘å·¦ç§»åŠ¨çš„æŒ‡é’ˆ
    ListNode right;

    // è®°å½•é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡
    boolean res = true;

    boolean isPalindrome(ListNode head) {
        left = head;
        traverse(head);
        return res;
    }

    void traverse(ListNode right) {
        if (right == null) {
            return;
        }

        // åˆ©ç”¨é€’å½’ï¼Œèµ°åˆ°é“¾è¡¨å°¾éƒ¨
        traverse(right.next);

        // ååºéå†ä½ç½®ï¼Œæ­¤æ—¶çš„ right æŒ‡é’ˆæŒ‡å‘é“¾è¡¨å³ä¾§å°¾éƒ¨
        // æ‰€ä»¥å¯ä»¥å’Œ left æŒ‡é’ˆæ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨
        if (left.val != right.val) {
            res = false;
        }
        left = left.next;
    }
}
```



### [äºŒã€ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦](https://labuladong.online/algo/data-structure/palindrome-linked-list/#äºŒã€ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦)

**1ã€å…ˆé€šè¿‡ [é“¾è¡¨åŒæŒ‡é’ˆæŠ€å·§](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/) ä¸­çš„å¿«æ…¢æŒ‡é’ˆæ¥æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹**ï¼š

```java
ListNode slow, fast;
slow = fast = head;
while (fast != null && fast.next != null) {
    slow = slow.next;
    fast = fast.next.next;
}
// slow æŒ‡é’ˆç°åœ¨æŒ‡å‘é“¾è¡¨ä¸­ç‚¹
```

![img](https://labuladong.online/algo/images/palindrome-list/1.jpg)

**2ã€å¦‚æœ`fast`æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘`null`ï¼Œè¯´æ˜é“¾è¡¨é•¿åº¦ä¸ºå¥‡æ•°ï¼Œ`slow`è¿˜è¦å†å‰è¿›ä¸€æ­¥**ï¼š

```java
if (fast != null)
    slow = slow.next;
```

![img](https://labuladong.online/algo/images/palindrome-list/2.jpg)

**3ã€ä»`slow`å¼€å§‹åè½¬åé¢çš„é“¾è¡¨ï¼Œç°åœ¨å°±å¯ä»¥å¼€å§‹æ¯”è¾ƒå›æ–‡ä¸²äº†**ï¼š

```java
ListNode left = head;
ListNode right = reverse(slow);

while (right != null) {
    if (left.val != right.val)
        return false;
    left = left.next;
    right = right.next;
}
return true;
```

![img](https://labuladong.online/algo/images/palindrome-list/3.jpg)

```java
class Solution {
    public boolean isPalindrome(ListNode head) {
        ListNode slow, fast;
        slow = fast = head;
        while (fast != null && fast.next != null) {
            slow = slow.next;
            fast = fast.next.next;
        }
        
        if (fast != null)
            slow = slow.next;
        
        ListNode left = head;
        ListNode right = reverse(slow);
        while (right != null) {
            if (left.val != right.val)
                return false;
            left = left.next;
            right = right.next;
        }
        
        return true;
    }

    ListNode reverse(ListNode head) {
        ListNode pre = null, cur = head;
        while (cur != null) {
            ListNode next = cur.next;
            cur.next = pre;
            pre = cur;
            cur = next;
        }
        return pre;
    }
}
```



## 1.3 å•é“¾è¡¨çš„èŠ±å¼åè½¬æ–¹æ³•æ±‡æ€»

æ­¤é¡µå†…å®¹

- [åè½¬æ•´ä¸ªå•é“¾è¡¨](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#åè½¬æ•´ä¸ªå•é“¾è¡¨)
- - [è¿­ä»£è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#è¿­ä»£è§£æ³•)
  - [é€’å½’è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#é€’å½’è§£æ³•)
- [åè½¬é“¾è¡¨å‰ N ä¸ªèŠ‚ç‚¹](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#åè½¬é“¾è¡¨å‰-n-ä¸ªèŠ‚ç‚¹)
- - [è¿­ä»£è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#è¿­ä»£è§£æ³•-1)
  - [é€’å½’è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#é€’å½’è§£æ³•-1)
- [åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†)
- - [è¿­ä»£è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#è¿­ä»£è§£æ³•-2)
  - [é€’å½’è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#é€’å½’è§£æ³•-2)
- [K ä¸ªä¸€ç»„åè½¬é“¾è¡¨](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#k-ä¸ªä¸€ç»„åè½¬é“¾è¡¨)
- - [æ€è·¯åˆ†æ](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#æ€è·¯åˆ†æ)
  - [ä»£ç å®ç°](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#ä»£ç å®ç°)
- [æœ€åæ€»ç»“](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#æœ€åæ€»ç»“)

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [206. Reverse Linked List](https://leetcode.com/problems/reverse-linked-list/) | [206. åè½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-linked-list/) |  ğŸŸ¢   |
| [25. Reverse Nodes in k-Group](https://leetcode.com/problems/reverse-nodes-in-k-group/) | [25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-nodes-in-k-group/) |  ğŸ”´   |
| [92. Reverse Linked List II](https://leetcode.com/problems/reverse-linked-list-ii/) | [92. åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/) |  ğŸŸ    |



### [åè½¬æ•´ä¸ªå•é“¾è¡¨](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#åè½¬æ•´ä¸ªå•é“¾è¡¨)

```java
// å•é“¾è¡¨èŠ‚ç‚¹çš„ç»“æ„
class ListNode {
    int val;
    ListNode next;
    ListNode(int x) { val = x; }
}
```

å•é“¾è¡¨åè½¬æ˜¯ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„ç®—æ³•é¢˜ï¼ŒåŠ›æ‰£ç¬¬ 206 é¢˜ã€Œ[åè½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-linked-list/)ã€å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼š



#### [è¿­ä»£è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#è¿­ä»£è§£æ³•)

```java
class Solution {
    // åè½¬ä»¥ head ä¸ºèµ·ç‚¹çš„å•é“¾è¡¨
    public ListNode reverseList(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }
        // ç”±äºå•é“¾è¡¨çš„ç»“æ„ï¼Œè‡³å°‘è¦ç”¨ä¸‰ä¸ªæŒ‡é’ˆæ‰èƒ½å®Œæˆè¿­ä»£åè½¬
        // cur æ˜¯å½“å‰éå†çš„èŠ‚ç‚¹ï¼Œpre æ˜¯ cur çš„å‰é©±ç»“ç‚¹ï¼Œnxt æ˜¯ cur çš„åç»§ç»“ç‚¹
        ListNode pre, cur, nxt;
        pre = null; cur = head; nxt = head.next;
        while (cur != null) {
            // é€ä¸ªç»“ç‚¹åè½¬
            cur.next = pre;
            // æ›´æ–°æŒ‡é’ˆä½ç½®
            pre = cur;
            cur = nxt;
            if (nxt != null) {
                nxt = nxt.next;
            }
        }
        // è¿”å›åè½¬åçš„å¤´ç»“ç‚¹
        return pre;
    }
}
```



#### [é€’å½’è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#é€’å½’è§£æ³•)

```java
class Solution {
    // å®šä¹‰ï¼šè¾“å…¥ä¸€ä¸ªå•é“¾è¡¨å¤´ç»“ç‚¹ï¼Œå°†è¯¥é“¾è¡¨åè½¬ï¼Œè¿”å›æ–°çš„å¤´ç»“ç‚¹
    public ListNode reverseList(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode last = reverseList(head.next);
        head.next.next = head;
        head.next = null;
        return last;
    }
}
```



### [åè½¬é“¾è¡¨å‰ N ä¸ªèŠ‚ç‚¹](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#åè½¬é“¾è¡¨å‰-n-ä¸ªèŠ‚ç‚¹)

```java
// å°†é“¾è¡¨çš„å‰ n ä¸ªèŠ‚ç‚¹åè½¬ï¼ˆn <= é“¾è¡¨é•¿åº¦ï¼‰
ListNode reverseN(ListNode head, int n)
```

æ¯”å¦‚è¯´å¯¹äºä¸‹å›¾é“¾è¡¨ï¼Œæ‰§è¡Œ `reverseN(head, 3)`ï¼š

![img](https://labuladong.online/algo/images/reverse-linked-list/6.jpg)

#### [è¿­ä»£è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#è¿­ä»£è§£æ³•)

```java
ListNode reverseN(ListNode head, int n) {
    if (head == null || head.next == null) {
        return head;
    }
    ListNode pre, cur, nxt;
    pre = null; cur = head; nxt = head.next;
    while (n > 0) {
        cur.next = pre;
        pre = cur;
        cur = nxt;
        if (nxt != null) {
            nxt = nxt.next;
        }
        n--;
    }
    // æ­¤æ—¶çš„ cur æ˜¯ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹ï¼Œhead æ˜¯åè½¬åçš„å°¾ç»“ç‚¹
    head.next = cur;
    // æ­¤æ—¶çš„ pre æ˜¯åè½¬åçš„å¤´ç»“ç‚¹
    return pre;
}
```



#### [é€’å½’è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#é€’å½’è§£æ³•)

```java
// åé©±èŠ‚ç‚¹
ListNode successor = null;

// åè½¬ä»¥ head ä¸ºèµ·ç‚¹çš„ n ä¸ªèŠ‚ç‚¹ï¼Œè¿”å›æ–°çš„å¤´ç»“ç‚¹
ListNode reverseN(ListNode head, int n) {
    if (n == 1) {
        // è®°å½•ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹
        successor = head.next;
        return head;
    }
    // ä»¥ head.next ä¸ºèµ·ç‚¹ï¼Œéœ€è¦åè½¬å‰ n - 1 ä¸ªèŠ‚ç‚¹
    ListNode last = reverseN(head.next, n - 1);

    head.next.next = head;
    // è®©åè½¬ä¹‹åçš„ head èŠ‚ç‚¹å’Œåé¢çš„èŠ‚ç‚¹è¿èµ·æ¥
    head.next = successor;
    return last;
}
```



### [åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†)

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, STHeiti, &quot;Microsoft YaHei&quot;, SimSun, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">92. åè½¬é“¾è¡¨ II</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/reverse-linked-list-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/reverse-linked-list-ii/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div>ç»™ä½ å•é“¾è¡¨çš„å¤´æŒ‡é’ˆ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">head</code><span>&nbsp;</span>å’Œä¸¤ä¸ªæ•´æ•°<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">right</code><span>&nbsp;</span>ï¼Œå…¶ä¸­<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left &lt;= right</code><span>&nbsp;</span>ã€‚è¯·ä½ åè½¬ä»ä½ç½®<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left</code><span>&nbsp;</span>åˆ°ä½ç½®<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">right</code><span>&nbsp;</span>çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿”å›<span>&nbsp;</span><strong style="font-weight: 600;">åè½¬åçš„é“¾è¡¨</strong><span>&nbsp;</span>ã€‚<p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2021/02/19/rev2ex2.jpg" style="max-width: 100%; width: 542px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2,3,4,5], left = 2, right = 4
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,4,3,2,5]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [5], left = 1, right = 1
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[5]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= n &lt;= 500</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-500 &lt;= Node.val &lt;= 500</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= left &lt;= right &lt;= n</code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word; margin-bottom: 0px; padding-bottom: 0px;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong><span>&nbsp;</span>ä½ å¯ä»¥ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬å—ï¼Ÿ</p></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/reverse-linked-list-ii/" class="" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 92. åè½¬é“¾è¡¨ II</a>ã€‚</strong></details>

#### [è¿­ä»£è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#è¿­ä»£è§£æ³•-1)

```java
class Solution {
    public ListNode reverseBetween(ListNode head, int m, int n) {
        if (m == 1) {
            return reverseN(head, n);
        }
        // æ‰¾åˆ°ç¬¬ m ä¸ªèŠ‚ç‚¹çš„å‰é©±
        ListNode pre = head;
        for (int i = 1; i < m - 1; i++) {
            pre = pre.next;
        }
        // ä»ç¬¬ m ä¸ªèŠ‚ç‚¹å¼€å§‹åè½¬
        pre.next = reverseN(pre.next, n - m + 1);
        return head;
    }

    ListNode reverseN(ListNode head, int n) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode pre, cur, nxt;
        pre = null; cur = head; nxt = head.next;
        while (n > 0) {
            cur.next = pre;
            pre = cur;
            cur = nxt;
            if (nxt != null) {
                nxt = nxt.next;
            }
            n--;
        }
        // æ­¤æ—¶çš„ cur æ˜¯ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹ï¼Œhead æ˜¯åè½¬åçš„å°¾ç»“ç‚¹
        head.next = cur;
        // æ­¤æ—¶çš„ pre æ˜¯åè½¬åçš„å¤´ç»“ç‚¹
        return pre;
    }
}
```



#### [é€’å½’è§£æ³•](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#é€’å½’è§£æ³•-1)

```java
class Solution {
    public ListNode reverseBetween(ListNode head, int m, int n) {
        // base case
        if (m == 1) {
            return reverseN(head, n);
        }
        // å‰è¿›åˆ°åè½¬çš„èµ·ç‚¹è§¦å‘ base case
        head.next = reverseBetween(head.next, m - 1, n - 1);
        return head;
    }

    // åé©±èŠ‚ç‚¹
    ListNode successor = null;

    // åè½¬ä»¥ head ä¸ºèµ·ç‚¹çš„ n ä¸ªèŠ‚ç‚¹ï¼Œè¿”å›æ–°çš„å¤´ç»“ç‚¹
    ListNode reverseN(ListNode head, int n) {
        if (n == 1) {
            // è®°å½•ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹
            successor = head.next;
            return head;
        }
        ListNode last = reverseN(head.next, n - 1);

        head.next.next = head;
        head.next = successor;
        return last;
    }
}
```



### [K ä¸ªä¸€ç»„åè½¬é“¾è¡¨](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/#k-ä¸ªä¸€ç»„åè½¬é“¾è¡¨)

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, STHeiti, &quot;Microsoft YaHei&quot;, SimSun, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/reverse-nodes-in-k-group/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/reverse-nodes-in-k-group/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">head</code><span>&nbsp;</span>ï¼Œæ¯&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><em>&nbsp;</em>ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><em>&nbsp;</em>çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/03/reverse_ex1.jpg" style="max-width: 100%; width: 542px; height: 222px;"><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2,3,4,5], k = 2
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[2,1,4,3,5]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img alt="" src="https://labuladong.online/algo/images/lc/uploads/2020/10/03/reverse_ex2.jpg" style="max-width: 100%; width: 542px; height: 222px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>head = [1,2,3,4,5], k = 3
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[3,2,1,4,5]
</pre><strong style="font-weight: 600;">æç¤ºï¼š</strong><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ç›®ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= k &lt;= n &lt;= 5000</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= Node.val &lt;= 1000</code></li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªåªç”¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">O(1)</code><span>&nbsp;</span>é¢å¤–å†…å­˜ç©ºé—´çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/reverse-nodes-in-k-group/" class="" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</a>ã€‚</strong></details>

```java
class Solution {
    public ListNode reverseKGroup(ListNode head, int k) {
        if (head == null) return null;
        // åŒºé—´ [a, b) åŒ…å« k ä¸ªå¾…åè½¬å…ƒç´ 
        ListNode a, b;
        a = b = head;
        for (int i = 0; i < k; i++) {
            // ä¸è¶³ k ä¸ªï¼Œä¸éœ€è¦åè½¬äº†
            if (b == null) return head;
            b = b.next;
        }
        // åè½¬å‰ k ä¸ªå…ƒç´ 
        ListNode newHead = reverseN(a, k);
        // æ­¤æ—¶ b æŒ‡å‘ä¸‹ä¸€ç»„å¾…åè½¬çš„å¤´ç»“ç‚¹
        // é€’å½’åè½¬åç»­é“¾è¡¨å¹¶è¿æ¥èµ·æ¥
        a.next = reverseKGroup(b, k);
        return newHead;
    }

    // ä¸Šæ–‡å®ç°çš„åè½¬å‰ N ä¸ªèŠ‚ç‚¹çš„å‡½æ•°
    ListNode reverseN(ListNode head, int n) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode pre, cur, nxt;
        pre = null; cur = head; nxt = head.next;
        while (n > 0) {
            cur.next = pre;
            pre = cur;
            cur = nxt;
            if (nxt != null) {
                nxt = nxt.next;
            }
            n--;
        }
        head.next = cur;
        return pre;
    }
}
```



# 2ã€æ•°ç»„

## 2.1 åŒæŒ‡é’ˆæŠ€å·§ç§’æ€ä¸ƒé“æ•°ç»„é¢˜ç›®

æ­¤é¡µå†…å®¹

- [ä¸€ã€å¿«æ…¢æŒ‡é’ˆæŠ€å·§](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#ä¸€ã€å¿«æ…¢æŒ‡é’ˆæŠ€å·§)
- - [åŸåœ°ä¿®æ”¹](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#åŸåœ°ä¿®æ”¹)
  - [æ»‘åŠ¨çª—å£](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#æ»‘åŠ¨çª—å£)
- [äºŒã€å·¦å³æŒ‡é’ˆçš„å¸¸ç”¨ç®—æ³•](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#äºŒã€å·¦å³æŒ‡é’ˆçš„å¸¸ç”¨ç®—æ³•)
- - [äºŒåˆ†æŸ¥æ‰¾](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#äºŒåˆ†æŸ¥æ‰¾)
  - [n æ•°ä¹‹å’Œ](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#n-æ•°ä¹‹å’Œ)
  - [åè½¬æ•°ç»„](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#åè½¬æ•°ç»„)
  - [å›æ–‡ä¸²åˆ¤æ–­](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#å›æ–‡ä¸²åˆ¤æ–­)

æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [167. Two Sum II - Input Array Is Sorted](https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/) | [167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/) |  ğŸŸ    |
| [26. Remove Duplicates from Sorted Array](https://leetcode.com/problems/remove-duplicates-from-sorted-array/) | [26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹](https://leetcode.cn/problems/remove-duplicates-from-sorted-array/) |  ğŸŸ¢   |
| [27. Remove Element](https://leetcode.com/problems/remove-element/) | [27. ç§»é™¤å…ƒç´ ](https://leetcode.cn/problems/remove-element/) |  ğŸŸ¢   |
| [283. Move Zeroes](https://leetcode.com/problems/move-zeroes/) |   [283. ç§»åŠ¨é›¶](https://leetcode.cn/problems/move-zeroes/)   |  ğŸŸ¢   |
| [344. Reverse String](https://leetcode.com/problems/reverse-string/) | [344. åè½¬å­—ç¬¦ä¸²](https://leetcode.cn/problems/reverse-string/) |  ğŸŸ¢   |
| [5. Longest Palindromic Substring](https://leetcode.com/problems/longest-palindromic-substring/) | [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.cn/problems/longest-palindromic-substring/) |  ğŸŸ    |
| [83. Remove Duplicates from Sorted List](https://leetcode.com/problems/remove-duplicates-from-sorted-list/) | [83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ](https://leetcode.cn/problems/remove-duplicates-from-sorted-list/) |  ğŸŸ¢   |
|                              -                               | [å‰‘æŒ‡ Offer II 006. æ’åºæ•°ç»„ä¸­ä¸¤ä¸ªæ•°å­—ä¹‹å’Œ](https://leetcode.cn/problems/kLl5u1/) |  ğŸŸ¢   |
|                              -                               | [å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—](https://leetcode.cn/problems/he-wei-sde-liang-ge-shu-zi-lcof/) |  ğŸŸ¢   |

å‰ç½®çŸ¥è¯†

é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š

- [æ•°ç»„åŸºç¡€](https://labuladong.online/algo/data-structure-basic/array-basic/)
- [å•é“¾è¡¨çš„å…­å¤§è§£é¢˜å¥—è·¯](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/)



### [ä¸€ã€å¿«æ…¢æŒ‡é’ˆæŠ€å·§](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#ä¸€ã€å¿«æ…¢æŒ‡é’ˆæŠ€å·§)

#### [åŸåœ°ä¿®æ”¹](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#åŸåœ°ä¿®æ”¹)

**æ•°ç»„é—®é¢˜ä¸­æ¯”è¾ƒå¸¸è§çš„å¿«æ…¢æŒ‡é’ˆæŠ€å·§ï¼Œæ˜¯è®©ä½ åŸåœ°ä¿®æ”¹æ•°ç»„**ã€‚

æ¯”å¦‚è¯´çœ‹ä¸‹åŠ›æ‰£ç¬¬ 26 é¢˜ã€Œ[åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹](https://leetcode.cn/problems/remove-duplicates-from-sorted-array/)ã€ï¼Œè®©ä½ åœ¨æœ‰åºæ•°ç»„å»é‡ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/remove-duplicates-from-sorted-array/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ª<span>&nbsp;</span><strong style="font-weight: 600;">éä¸¥æ ¼é€’å¢æ’åˆ—</strong><span>&nbsp;</span>çš„æ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>ï¼Œè¯·ä½ <strong style="font-weight: 600;"><a href="http://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;"><span>&nbsp;</span>åŸåœ°</a></strong><span>&nbsp;</span>åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´ <span>&nbsp;</span><strong style="font-weight: 600;">åªå‡ºç°ä¸€æ¬¡</strong><span>&nbsp;</span>ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚å…ƒç´ çš„<span>&nbsp;</span><strong style="font-weight: 600;">ç›¸å¯¹é¡ºåº</strong><span>&nbsp;</span>åº”è¯¥ä¿æŒ<span>&nbsp;</span><strong style="font-weight: 600;">ä¸€è‡´</strong><span>&nbsp;</span>ã€‚ç„¶åè¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>ä¸­å”¯ä¸€å…ƒç´ çš„ä¸ªæ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è€ƒè™‘<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>çš„å”¯ä¸€å…ƒç´ çš„æ•°é‡ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>ï¼Œä½ éœ€è¦åšä»¥ä¸‹äº‹æƒ…ç¡®ä¿ä½ çš„é¢˜è§£å¯ä»¥è¢«é€šè¿‡ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ›´æ”¹æ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>ï¼Œä½¿<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>çš„å‰<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>ä¸ªå…ƒç´ åŒ…å«å”¯ä¸€å…ƒç´ ï¼Œå¹¶æŒ‰ç…§å®ƒä»¬æœ€åˆåœ¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>ä¸­å‡ºç°çš„é¡ºåºæ’åˆ—ã€‚<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code>&nbsp;çš„å…¶ä½™å…ƒç´ ä¸<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>çš„å¤§å°ä¸é‡è¦ã€‚</li><li>è¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code>&nbsp;ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">åˆ¤é¢˜æ ‡å‡†:</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;">ç³»ç»Ÿä¼šç”¨ä¸‹é¢çš„ä»£ç æ¥æµ‹è¯•ä½ çš„é¢˜è§£:</p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">int[] nums = [...]; // è¾“å…¥æ•°ç»„
int[] expectedNums = [...]; // é•¿åº¦æ­£ç¡®çš„æœŸæœ›ç­”æ¡ˆ

int k = removeDuplicates(nums); // è°ƒç”¨

assert k == expectedNums.length;
for (int i = 0; i &lt; k; i++) {
    assert nums[i] == expectedNums[i];
}</pre><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœæ‰€æœ‰æ–­è¨€éƒ½é€šè¿‡ï¼Œé‚£ä¹ˆæ‚¨çš„é¢˜è§£å°†è¢«<span>&nbsp;</span><strong style="font-weight: 600;">é€šè¿‡</strong>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1,1,2]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2, nums = [1,2,_]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">2</code></strong> ï¼Œå¹¶ä¸”åŸæ•°ç»„ <em>nums </em>çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1</code></strong>, <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">2 </code></strong><code style="font-family: var(--vp-font-mono); padding: 0px; border-radius: 0px;">ã€‚</code>ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [0,0,1,1,1,2,2,3,3,4]
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>5, nums = [0,1,2,3,4]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">5</code></strong> ï¼Œ å¹¶ä¸”åŸæ•°ç»„ <em>nums </em>çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0</code></strong>, <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1</code></strong>, <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">2</code></strong>, <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">3</code></strong>, <strong style="font-weight: 600;"><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 0px; border-radius: 0px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">4</code></strong> ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= nums.length &lt;= 3 * 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-10<sup>4</sup><span>&nbsp;</span>&lt;= nums[i] &lt;= 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>å·²æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">éä¸¥æ ¼é€’å¢</strong>&nbsp;æ’åˆ—</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹</a>ã€‚</strong></details>

```java
class Solution {
    public int removeDuplicates(int[] nums) {
        if (nums.length == 0) {
            return 0;
        }
        int slow = 0, fast = 0;
        while (fast < nums.length) {
            if (nums[fast] != nums[slow]) {
                slow++;
                // ç»´æŠ¤ nums[0..slow] æ— é‡å¤
                nums[slow] = nums[fast];
            }
            fast++;
        }
        // æ•°ç»„é•¿åº¦ä¸ºç´¢å¼• + 1
        return slow + 1;
    }
}
```



å†ç®€å•æ‰©å±•ä¸€ä¸‹ï¼Œçœ‹çœ‹åŠ›æ‰£ç¬¬ 83 é¢˜ã€Œ[åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ](https://leetcode.cn/problems/remove-duplicates-from-sorted-list/)ã€ï¼Œå¦‚æœç»™ä½ ä¸€ä¸ªæœ‰åºçš„å•é“¾è¡¨ï¼Œå¦‚ä½•å»é‡å‘¢ï¼Ÿ

```java
class Solution {
    public ListNode deleteDuplicates(ListNode head) {
        if (head == null) return null;
        ListNode slow = head, fast = head;
        while (fast != null) {
            if (fast.val != slow.val) {
                // nums[slow] = nums[fast];
                slow.next = fast;
                // slow++;
                slow = slow.next;
            }
            // fast++
            fast = fast.next;
        }
        // æ–­å¼€ä¸åé¢é‡å¤å…ƒç´ çš„è¿æ¥
        slow.next = null;
        return head;
    }
}
```



**é™¤äº†è®©ä½ åœ¨æœ‰åºæ•°ç»„/é“¾è¡¨ä¸­å»é‡ï¼Œé¢˜ç›®è¿˜å¯èƒ½è®©ä½ å¯¹æ•°ç»„ä¸­çš„æŸäº›å…ƒç´ è¿›è¡Œã€ŒåŸåœ°åˆ é™¤ã€**ã€‚

æ¯”å¦‚åŠ›æ‰£ç¬¬ 27 é¢˜ã€Œ[ç§»é™¤å…ƒç´ ](https://leetcode.cn/problems/remove-element/)ã€ï¼Œçœ‹ä¸‹é¢˜ç›®ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">27. ç§»é™¤å…ƒç´ </strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/remove-element/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/remove-element/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªæ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><em>&nbsp;</em>å’Œä¸€ä¸ªå€¼<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">val</code>ï¼Œä½ éœ€è¦<span>&nbsp;</span><strong style="font-weight: 600;"><a href="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŸåœ°</a></strong><span>&nbsp;</span>ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">val</code><em>&nbsp;</em>çš„å…ƒç´ ã€‚å…ƒç´ çš„é¡ºåºå¯èƒ½å‘ç”Ÿæ”¹å˜ã€‚ç„¶åè¿”å›&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code>&nbsp;ä¸­ä¸&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">val</code>&nbsp;ä¸åŒçš„å…ƒç´ çš„æ•°é‡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å‡è®¾<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>ä¸­ä¸ç­‰äº<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">val</code><span>&nbsp;</span>çš„å…ƒç´ æ•°é‡ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code>ï¼Œè¦é€šè¿‡æ­¤é¢˜ï¼Œæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>æ›´æ”¹<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>æ•°ç»„ï¼Œä½¿<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>çš„å‰<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>ä¸ªå…ƒç´ åŒ…å«ä¸ç­‰äº<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">val</code><span>&nbsp;</span>çš„å…ƒç´ ã€‚<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>çš„å…¶ä½™å…ƒç´ å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>çš„å¤§å°å¹¶ä¸é‡è¦ã€‚</li><li>è¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç”¨æˆ·è¯„æµ‹ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯„æµ‹æœºå°†ä½¿ç”¨ä»¥ä¸‹ä»£ç æµ‹è¯•æ‚¨çš„è§£å†³æ–¹æ¡ˆï¼š</p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;">int[] nums = [...]; // è¾“å…¥æ•°ç»„
int val = ...; // è¦ç§»é™¤çš„å€¼
int[] expectedNums = [...]; // é•¿åº¦æ­£ç¡®çš„é¢„æœŸç­”æ¡ˆã€‚
                            // å®ƒä»¥ä¸ç­‰äº val çš„å€¼æ’åºã€‚

int k = removeElement(nums, val); // è°ƒç”¨ä½ çš„å®ç°

assert k == expectedNums.length;
sort(nums, 0, k); // æ’åº nums çš„å‰ k ä¸ªå…ƒç´ 
for (int i = 0; i &lt; actualLength; i++) {
    assert nums[i] == expectedNums[i];
}</pre><p style="line-height: 1.6; overflow-wrap: break-word;">å¦‚æœæ‰€æœ‰çš„æ–­è¨€éƒ½é€šè¿‡ï¼Œä½ çš„è§£å†³æ–¹æ¡ˆå°†ä¼š<span>&nbsp;</span><strong style="font-weight: 600;">é€šè¿‡</strong>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [3,2,2,3], val = 3
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>2, nums = [2,2,_,_]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä½ çš„å‡½æ•°å‡½æ•°åº”è¯¥è¿”å› k = 2, å¹¶ä¸” nums<em> </em>ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚
ä½ åœ¨è¿”å›çš„ k ä¸ªå…ƒç´ ä¹‹å¤–ç•™ä¸‹äº†ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼ˆå› æ­¤å®ƒä»¬å¹¶ä¸è®¡å…¥è¯„æµ‹ï¼‰ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [0,1,2,2,3,0,4,2], val = 2
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>5, nums = [0,1,4,0,3,_,_,_]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>ä½ çš„å‡½æ•°åº”è¯¥è¿”å› k = 5ï¼Œå¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0,0,1,3,4ã€‚
æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä»¥ä»»æ„é¡ºåºè¿”å›ã€‚
ä½ åœ¨è¿”å›çš„ k ä¸ªå…ƒç´ ä¹‹å¤–ç•™ä¸‹äº†ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼ˆå› æ­¤å®ƒä»¬å¹¶ä¸è®¡å…¥è¯„æµ‹ï¼‰ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= nums.length &lt;= 100</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= nums[i] &lt;= 50</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= val &lt;= 100</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/remove-element/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 27. ç§»é™¤å…ƒç´ </a>ã€‚</strong></details>

```java
class Solution {
    public int removeElement(int[] nums, int val) {
        int fast = 0, slow = 0;
        while (fast < nums.length) {
            if (nums[fast] != val) {
                nums[slow] = nums[fast];
                slow++;
            }
            fast++;
        }
        return slow;
    }
}
```



å®ç°äº†è¿™ä¸ª `removeElement` å‡½æ•°ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 283 é¢˜ã€Œ[ç§»åŠ¨é›¶](https://leetcode.cn/problems/move-zeroes/)ã€ï¼š

ç»™ä½ è¾“å…¥ä¸€ä¸ªæ•°ç»„ `nums`ï¼Œè¯·ä½ **åŸåœ°ä¿®æ”¹**ï¼Œå°†æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼ä¸º 0 çš„å…ƒç´ ç§»åˆ°æ•°ç»„æœ«å°¾ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```java
class Solution {
    public void moveZeroes(int[] nums) {
        // å»é™¤ nums ä¸­çš„æ‰€æœ‰ 0ï¼Œè¿”å›ä¸å« 0 çš„æ•°ç»„é•¿åº¦
        int p = removeElement(nums, 0);
        // å°† nums[p..] çš„å…ƒç´ èµ‹å€¼ä¸º 0
        for (; p < nums.length; p++) {
            nums[p] = 0;
        }
    }

    public int removeElement(int[] nums, int val) {
        // è§ä¸Šæ–‡ä»£ç å®ç°
    }
}
```



#### [æ»‘åŠ¨çª—å£](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#æ»‘åŠ¨çª—å£)

```java
// æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶ä¼ªç 
int left = 0, right = 0;

while (right < nums.size()) {
    // å¢å¤§çª—å£
    window.addLast(nums[right]);
    right++;
    
    while (window needs shrink) {
        // ç¼©å°çª—å£
        window.removeFirst(nums[left]);
        left++;
    }
}
```

å…·ä½“çš„é¢˜ç›®æœ¬æ–‡å°±ä¸é‡å¤äº†ï¼Œè¿™é‡Œåªå¼ºè°ƒæ»‘åŠ¨çª—å£ç®—æ³•çš„å¿«æ…¢æŒ‡é’ˆç‰¹æ€§ï¼š

`left` æŒ‡é’ˆåœ¨åï¼Œ`right` æŒ‡é’ˆåœ¨å‰ï¼Œä¸¤ä¸ªæŒ‡é’ˆä¸­é—´çš„éƒ¨åˆ†å°±æ˜¯ã€Œçª—å£ã€ï¼Œç®—æ³•é€šè¿‡æ‰©å¤§å’Œç¼©å°ã€Œçª—å£ã€æ¥è§£å†³æŸäº›é—®é¢˜ã€‚

### [äºŒã€å·¦å³æŒ‡é’ˆçš„å¸¸ç”¨ç®—æ³•](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#äºŒã€å·¦å³æŒ‡é’ˆçš„å¸¸ç”¨ç®—æ³•)

#### [äºŒåˆ†æŸ¥æ‰¾](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#äºŒåˆ†æŸ¥æ‰¾)

æˆ‘åœ¨å¦ä¸€ç¯‡æ–‡ç«  [äºŒåˆ†æŸ¥æ‰¾æ¡†æ¶è¯¦è§£](https://labuladong.online/algo/essential-technique/binary-search-framework/) ä¸­æœ‰è¯¦ç»†æ¢è®¨äºŒåˆ†æœç´¢ä»£ç çš„ç»†èŠ‚é—®é¢˜ï¼Œè¿™é‡Œåªå†™æœ€ç®€å•çš„äºŒåˆ†ç®—æ³•ï¼Œæ—¨åœ¨çªå‡ºå®ƒçš„åŒæŒ‡é’ˆç‰¹æ€§ï¼š

```java
int binarySearch(int[] nums, int target) {
    // ä¸€å·¦ä¸€å³ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œ
    int left = 0, right = nums.length - 1;
    while(left <= right) {
        int mid = (right + left) / 2;
        if(nums[mid] == target)
            return mid; 
        else if (nums[mid] < target)
            left = mid + 1; 
        else if (nums[mid] > target)
            right = mid - 1;
    }
    return -1;
}
```

#### [`n` æ•°ä¹‹å’Œ](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#n-æ•°ä¹‹å’Œ)

çœ‹ä¸‹åŠ›æ‰£ç¬¬ 167 é¢˜ã€Œ[ä¸¤æ•°ä¹‹å’Œ II](https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä»<span>&nbsp;</span><strong style="font-weight: 600;">1</strong><span>&nbsp;</span>å¼€å§‹çš„æ•´æ•°æ•°ç»„&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">numbers</code><span>&nbsp;</span>ï¼Œè¯¥æ•°ç»„å·²æŒ‰<strong style="font-weight: 600;"><em><span>&nbsp;</span></em>éé€’å‡é¡ºåºæ’åˆ—&nbsp;<span>&nbsp;</span></strong>ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">target</code><span>&nbsp;</span>çš„ä¸¤ä¸ªæ•°ã€‚å¦‚æœè®¾è¿™ä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">numbers[index<sub>1</sub>]</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">numbers[index<sub>2</sub>]</code><span>&nbsp;</span>ï¼Œåˆ™<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= index<sub>1</sub><span>&nbsp;</span>&lt; index<sub>2</sub><span>&nbsp;</span>&lt;= numbers.length</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä»¥é•¿åº¦ä¸º 2 çš„æ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">[index<sub>1</sub>, index<sub>2</sub>]</code><span>&nbsp;</span>çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">index<sub>1</sub></code><em><span>&nbsp;</span></em>å’Œ<em><span>&nbsp;</span></em><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">index<sub>2</sub></code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥<span>&nbsp;</span><strong style="font-weight: 600;">åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆ</strong><span>&nbsp;</span>ï¼Œè€Œä¸”ä½ <span>&nbsp;</span><strong style="font-weight: 600;">ä¸å¯ä»¥</strong><span>&nbsp;</span>é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä½ æ‰€è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»åªä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´ã€‚</p>&nbsp;<p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>numbers = [<strong style="font-weight: 600;"><em>2</em></strong>,<strong style="font-weight: 600;"><em>7</em></strong>,11,15], target = 9
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index<sub>1</sub> = 1, index<sub>2</sub> = 2 ã€‚è¿”å› [1, 2] ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>numbers = [<strong style="font-weight: 600;"><em>2</em></strong>,3,<strong style="font-weight: 600;"><em>4</em></strong>], target = 6
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,3]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>2 ä¸ 4 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 6 ã€‚å› æ­¤ index<sub>1</sub> = 1, index<sub>2</sub> = 3 ã€‚è¿”å› [1, 3] ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>numbers = [<strong style="font-weight: 600;"><em>-1</em></strong>,<strong style="font-weight: 600;"><em>0</em></strong>], target = -1
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[1,2]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>-1 ä¸ 0 ä¹‹å’Œç­‰äºç›®æ ‡æ•° -1 ã€‚å› æ­¤ index<sub>1</sub> = 1, index<sub>2</sub> = 2 ã€‚è¿”å› [1, 2] ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">2 &lt;= numbers.length &lt;= 3 * 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-1000 &lt;= numbers[i] &lt;= 1000</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">numbers</code><span>&nbsp;</span>æŒ‰<span>&nbsp;</span><strong style="font-weight: 600;">éé€’å‡é¡ºåº</strong><span>&nbsp;</span>æ’åˆ—</li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-1000 &lt;= target &lt;= 1000</code></li><li><strong style="font-weight: 600;">ä»…å­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ</strong></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„</a>ã€‚</strong></details>

```java
class Solution {
    public int[] twoSum(int[] numbers, int target) {
        // ä¸€å·¦ä¸€å³ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œ
        int left = 0, right = numbers.length - 1;
        while (left < right) {
            int sum = numbers[left] + numbers[right];
            if (sum == target) {
                // é¢˜ç›®è¦æ±‚çš„ç´¢å¼•æ˜¯ä» 1 å¼€å§‹çš„
                return new int[]{left + 1, right + 1};
            } else if (sum < target) {
                // è®© sum å¤§ä¸€ç‚¹
                left++;
            } else if (sum > target) {
                // è®© sum å°ä¸€ç‚¹
                right--;
            }
        }
        return new int[]{-1, -1};
    }
}
```

æˆ‘åœ¨å¦ä¸€ç¯‡æ–‡ç«  [ä¸€ä¸ªå‡½æ•°ç§’æ€æ‰€æœ‰ nSum é—®é¢˜](https://labuladong.online/algo/practice-in-action/nsum/) ä¸­ä¹Ÿè¿ç”¨ç±»ä¼¼çš„å·¦å³æŒ‡é’ˆæŠ€å·§ç»™å‡ºäº† `nSum` é—®é¢˜çš„ä¸€ç§é€šç”¨æ€è·¯ï¼Œæœ¬è´¨ä¸Šåˆ©ç”¨çš„ä¹Ÿæ˜¯åŒæŒ‡é’ˆæŠ€å·§ã€‚



#### [åè½¬æ•°ç»„](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#åè½¬æ•°ç»„)

```java
void reverseString(char[] s) {
    // ä¸€å·¦ä¸€å³ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œ
    int left = 0, right = s.length - 1;
    while (left < right) {
        // äº¤æ¢ s[left] å’Œ s[right]
        char temp = s[left];
        s[left] = s[right];
        s[right] = temp;
        left++;
        right--;
    }
}
```



#### [å›æ–‡ä¸²åˆ¤æ–­](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/#å›æ–‡ä¸²åˆ¤æ–­)

```java
boolean isPalindrome(String s) {
    // ä¸€å·¦ä¸€å³ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œ
    int left = 0, right = s.length() - 1;
    while (left < right) {
        if (s.charAt(left) != s.charAt(right)) {
            return false;
        }
        left++;
        right--;
    }
    return true;
}
```



é‚£æ¥ä¸‹æ¥æˆ‘æå‡ä¸€ç‚¹éš¾åº¦ï¼Œç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè®©ä½ ç”¨åŒæŒ‡é’ˆæŠ€å·§ä»ä¸­æ‰¾å‡ºæœ€é•¿çš„å›æ–‡ä¸²ï¼Œä½ ä¼šåšå—ï¼Ÿ

è¿™å°±æ˜¯åŠ›æ‰£ç¬¬ 5 é¢˜ã€Œ[æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.cn/problems/longest-palindromic-substring/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">5. æœ€é•¿å›æ–‡å­ä¸²</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/longest-palindromic-substring/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/longest-palindromic-substring/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code>ï¼Œæ‰¾åˆ°<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>ä¸­æœ€é•¿çš„<span>&nbsp;</span><span data-keyword="palindromic-string">å›æ–‡</span><span>&nbsp;</span><span data-keyword="substring-nonempty">å­ä¸²</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "babad"
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"bab"
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "cbbd"
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"bb"
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= s.length &lt;= 1000</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/longest-palindromic-substring/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 5. æœ€é•¿å›æ–‡å­ä¸²</a>ã€‚</strong></details>

```java
String longestPalindrome(String s) {
    String res = "";
    for (int i = 0; i < s.length(); i++) {
        // ä»¥ s[i] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²
        String s1 = palindrome(s, i, i);
        // ä»¥ s[i] å’Œ s[i+1] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡å­ä¸²
        String s2 = palindrome(s, i, i + 1);
        // res = longest(res, s1, s2)
        res = res.length() > s1.length() ? res : s1;
        res = res.length() > s2.length() ? res : s2;
    }
    return res;
}
```



## 2.2 æ»‘åŠ¨çª—å£ç®—æ³•æ ¸å¿ƒä»£ç æ¨¡æ¿

æ­¤é¡µå†…å®¹

- [æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ](https://labuladong.online/algo/essential-technique/sliding-window-framework/#æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ)
- [ä¸€ã€æœ€å°è¦†ç›–å­ä¸²](https://labuladong.online/algo/essential-technique/sliding-window-framework/#ä¸€ã€æœ€å°è¦†ç›–å­ä¸²)
- [äºŒã€å­—ç¬¦ä¸²æ’åˆ—](https://labuladong.online/algo/essential-technique/sliding-window-framework/#äºŒã€å­—ç¬¦ä¸²æ’åˆ—)
- [ä¸‰ã€æ‰¾æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://labuladong.online/algo/essential-technique/sliding-window-framework/#ä¸‰ã€æ‰¾æ‰€æœ‰å­—æ¯å¼‚ä½è¯)
- [å››ã€æœ€é•¿æ— é‡å¤å­ä¸²](https://labuladong.online/algo/essential-technique/sliding-window-framework/#å››ã€æœ€é•¿æ— é‡å¤å­ä¸²)

æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [3. Longest Substring Without Repeating Characters](https://leetcode.com/problems/longest-substring-without-repeating-characters/) | [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/) |  ğŸŸ    |
| [438. Find All Anagrams in a String](https://leetcode.com/problems/find-all-anagrams-in-a-string/) | [438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/) |  ğŸŸ    |
| [567. Permutation in String](https://leetcode.com/problems/permutation-in-string/) | [567. å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode.cn/problems/permutation-in-string/) |  ğŸŸ    |
| [76. Minimum Window Substring](https://leetcode.com/problems/minimum-window-substring/) | [76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/) |  ğŸ”´   |

å‰ç½®çŸ¥è¯†

é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š

- [æ•°ç»„åŸºç¡€](https://labuladong.online/algo/data-structure-basic/array-basic/)



### [æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ](https://labuladong.online/algo/essential-technique/sliding-window-framework/#æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ)

```java
// æ»‘åŠ¨çª—å£ç®—æ³•ä¼ªç æ¡†æ¶
void slidingWindow(String s) {
    // ç”¨åˆé€‚çš„æ•°æ®ç»“æ„è®°å½•çª—å£ä¸­çš„æ•°æ®ï¼Œæ ¹æ®å…·ä½“åœºæ™¯å˜é€š
    // æ¯”å¦‚è¯´ï¼Œæˆ‘æƒ³è®°å½•çª—å£ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå°±ç”¨ map
    // å¦‚æœæˆ‘æƒ³è®°å½•çª—å£ä¸­çš„å…ƒç´ å’Œï¼Œå°±å¯ä»¥åªç”¨ä¸€ä¸ª int
    Object window = ...
    
    int left = 0, right = 0;
    while (right < s.length()) {
        // c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
        char c = s[right];
        window.add(c)
        // å¢å¤§çª—å£
        right++;
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        ...

        // *** debug è¾“å‡ºçš„ä½ç½® ***
        // æ³¨æ„åœ¨æœ€ç»ˆçš„è§£æ³•ä»£ç ä¸­ä¸è¦ print
        // å› ä¸º IO æ“ä½œå¾ˆè€—æ—¶ï¼Œå¯èƒ½å¯¼è‡´è¶…æ—¶
        printf("window: [%d, %d)\n", left, right);
        // ***********************

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while (left < right && window needs shrink) {
            // d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
            char d = s[left];
            window.remove(d)
            // ç¼©å°çª—å£
            left++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            ...
        }
    }
}
```

**æ¡†æ¶ä¸­ä¸¤å¤„ `...` è¡¨ç¤ºçš„æ›´æ–°çª—å£æ•°æ®çš„åœ°æ–¹ï¼Œåœ¨å…·ä½“çš„é¢˜ç›®ä¸­ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯å¾€è¿™é‡Œé¢å¡«ä»£ç é€»è¾‘**ã€‚è€Œä¸”ï¼Œè¿™ä¸¤ä¸ª `...` å¤„çš„æ“ä½œåˆ†åˆ«æ˜¯æ‰©å¤§å’Œç¼©å°çª—å£çš„æ›´æ–°æ“ä½œï¼Œç­‰ä¼šä½ ä¼šå‘ç°å®ƒä»¬æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚



### [ä¸€ã€æœ€å°è¦†ç›–å­ä¸²](https://labuladong.online/algo/essential-technique/sliding-window-framework/#ä¸€ã€æœ€å°è¦†ç›–å­ä¸²)

å…ˆæ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 76 é¢˜ã€Œ[æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/)ã€éš¾åº¦ Hardï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">76. æœ€å°è¦†ç›–å­ä¸²</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/minimum-window-substring/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/minimum-window-substring/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>ã€ä¸€ä¸ªå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">t</code><span>&nbsp;</span>ã€‚è¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>ä¸­æ¶µç›–<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">t</code><span>&nbsp;</span>æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>ä¸­ä¸å­˜åœ¨æ¶µç›–<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">t</code><span>&nbsp;</span>æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">""</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æ³¨æ„ï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>å¯¹äº<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">t</code><span>&nbsp;</span>ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">t</code><span>&nbsp;</span>ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚</li><li>å¦‚æœ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "ADOBECODEBANC", t = "ABC"
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"BANC"
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æœ€å°è¦†ç›–å­ä¸² "BANC" åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ 'A'ã€'B' å’Œ 'C'ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s = "a", t = "a"
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>"a"
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>æ•´ä¸ªå­—ç¬¦ä¸² s æ˜¯æœ€å°è¦†ç›–å­ä¸²ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> s = "a", t = "aa"
<strong style="font-weight: 600;">è¾“å‡º:</strong> ""
<strong style="font-weight: 600;">è§£é‡Š:</strong> t ä¸­ä¸¤ä¸ªå­—ç¬¦ 'a' å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ
å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);"><sup>m == s.length</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);"><sup>n == t.length</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= m, n &lt;= 10<sup>5</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">t</code><span>&nbsp;</span>ç”±è‹±æ–‡å­—æ¯ç»„æˆ</li></ul><strong style="font-weight: 600;">è¿›é˜¶ï¼š</strong>ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">o(m+n)</code><span>&nbsp;</span>æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ</div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/minimum-window-substring/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 76. æœ€å°è¦†ç›–å­ä¸²</a>ã€‚</strong></details>

```java
class Solution {
    public String minWindow(String s, String t) {
        Map<Character, Integer> need = new HashMap<>();
        Map<Character, Integer> window = new HashMap<>();
        for (char c : t.toCharArray()) {
            need.put(c, need.getOrDefault(c, 0) + 1);
        }

        int left = 0, right = 0;
        int valid = 0;
        // è®°å½•æœ€å°è¦†ç›–å­ä¸²çš„èµ·å§‹ç´¢å¼•åŠé•¿åº¦
        int start = 0, len = Integer.MAX_VALUE;
        while (right < s.length()) {
            // c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
            char c = s.charAt(right);
            // æ‰©å¤§çª—å£
            right++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            if (need.containsKey(c)) {
                window.put(c, window.getOrDefault(c, 0) + 1);
                if (window.get(c).equals(need.get(c)))
                    valid++;
            }

            // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
            while (valid == need.size()) {
                // åœ¨è¿™é‡Œæ›´æ–°æœ€å°è¦†ç›–å­ä¸²
                if (right - left < len) {
                    start = left;
                    len = right - left;
                }
                // d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
                char d = s.charAt(left);
                // ç¼©å°çª—å£
                left++;
                // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
                if (need.containsKey(d)) {
                    if (window.get(d).equals(need.get(d)))
                        valid--;
                    window.put(d, window.get(d) - 1);
                }                    
            }
        }
        // è¿”å›æœ€å°è¦†ç›–å­ä¸²
        return len == Integer.MAX_VALUE ? "" : s.substring(start, start + len);
    }
}
```

ä½¿ç”¨ Java çš„è¯»è€…è¯·æ³¨æ„

å¯¹ Java åŒ…è£…ç±»è¿›è¡Œæ¯”è¾ƒæ—¶è¦å°¤ä¸ºå°å¿ƒï¼Œ`Integer`ï¼Œ`String` ç­‰ç±»å‹åº”è¯¥ç”¨ `equals` æ–¹æ³•åˆ¤å®šç›¸ç­‰ï¼Œè€Œä¸èƒ½ç›´æ¥ç”¨ç­‰å· `==`ï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚æ‰€ä»¥åœ¨ç¼©å°çª—å£æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥å†™ä¸º `window.get(d) == need.get(d)`ï¼Œè€Œè¦ç”¨ `window.get(d).equals(need.get(d))`ï¼Œä¹‹åçš„é¢˜ç›®ä»£ç åŒç†ã€‚

ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå½“æˆ‘ä»¬å‘ç°æŸä¸ªå­—ç¬¦åœ¨ `window` çš„æ•°é‡æ»¡è¶³äº† `need` çš„éœ€è¦ï¼Œå°±è¦æ›´æ–° `valid`ï¼Œè¡¨ç¤ºæœ‰ä¸€ä¸ªå­—ç¬¦å·²ç»æ»¡è¶³è¦æ±‚ã€‚è€Œä¸”ï¼Œä½ èƒ½å‘ç°ï¼Œä¸¤æ¬¡å¯¹çª—å£å†…æ•°æ®çš„æ›´æ–°æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚

å½“ `valid == need.size()` æ—¶ï¼Œè¯´æ˜ `T` ä¸­æ‰€æœ‰å­—ç¬¦å·²ç»è¢«è¦†ç›–ï¼Œå·²ç»å¾—åˆ°ä¸€ä¸ªå¯è¡Œçš„è¦†ç›–å­ä¸²ï¼Œç°åœ¨åº”è¯¥å¼€å§‹æ”¶ç¼©çª—å£äº†ï¼Œä»¥ä¾¿å¾—åˆ°ã€Œæœ€å°è¦†ç›–å­ä¸²ã€ã€‚

ç§»åŠ¨ `left` æ”¶ç¼©çª—å£æ—¶ï¼Œçª—å£å†…çš„å­—ç¬¦éƒ½æ˜¯å¯è¡Œè§£ï¼Œæ‰€ä»¥åº”è¯¥åœ¨æ”¶ç¼©çª—å£çš„é˜¶æ®µè¿›è¡Œæœ€å°è¦†ç›–å­ä¸²çš„æ›´æ–°ï¼Œä»¥ä¾¿ä»å¯è¡Œè§£ä¸­æ‰¾åˆ°é•¿åº¦æœ€çŸ­çš„æœ€ç»ˆç»“æœã€‚

è‡³æ­¤ï¼Œåº”è¯¥å¯ä»¥å®Œå…¨ç†è§£è¿™å¥—æ¡†æ¶äº†ï¼Œæ»‘åŠ¨çª—å£ç®—æ³•åˆä¸éš¾ï¼Œå°±æ˜¯ç»†èŠ‚é—®é¢˜è®©äººçƒ¦å¾—å¾ˆã€‚**ä»¥åé‡åˆ°æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œä½ å°±æŒ‰ç…§è¿™æ¡†æ¶å†™ä»£ç ï¼Œä¿å‡†æ²¡æœ‰ bugï¼Œè¿˜çœäº‹å„¿**ã€‚



### [äºŒã€å­—ç¬¦ä¸²æ’åˆ—](https://labuladong.online/algo/essential-technique/sliding-window-framework/#äºŒã€å­—ç¬¦ä¸²æ’åˆ—)

è¿™æ˜¯åŠ›æ‰£ç¬¬ 567 é¢˜ã€Œ[å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode.cn/problems/permutation-in-string/)ã€ï¼Œéš¾åº¦ä¸­ç­‰ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">567. å­—ç¬¦ä¸²çš„æ’åˆ—</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/permutation-in-string/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/permutation-in-string/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s1</code>&nbsp;å’Œ&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s2</code><span>&nbsp;</span>ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s2</code><span>&nbsp;</span>æ˜¯å¦åŒ…å«<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s1</code><strong style="font-weight: 600;">&nbsp;</strong>çš„æ’åˆ—ã€‚å¦‚æœæ˜¯ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">true</code><span>&nbsp;</span>ï¼›å¦åˆ™ï¼Œè¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">false</code><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æ¢å¥è¯è¯´ï¼Œ<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s1</code><span>&nbsp;</span>çš„æ’åˆ—ä¹‹ä¸€æ˜¯<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s2</code><span>&nbsp;</span>çš„<span>&nbsp;</span><strong style="font-weight: 600;">å­ä¸²</strong><span>&nbsp;</span>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s1 = "ab" s2 = "eidbaooo"
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>s2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ ("ba").
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>s1= "ab" s2 = "eidboaoo"
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= s1.length, s2.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s1</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s2</code><span>&nbsp;</span>ä»…åŒ…å«å°å†™å­—æ¯</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/permutation-in-string/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 567. å­—ç¬¦ä¸²çš„æ’åˆ—</a>ã€‚</strong></details>

```java
class Solution {
    // åˆ¤æ–­ s ä¸­æ˜¯å¦å­˜åœ¨ t çš„æ’åˆ—
    public boolean checkInclusion(String t, String s) {
        Map<Character, Integer> need = new HashMap<>();
        Map<Character, Integer> window = new HashMap<>();
        for (char c : t.toCharArray()) {
            need.put(c, need.getOrDefault(c, 0) + 1);
        }

        int left = 0, right = 0;
        int valid = 0;
        while (right < s.length()) {
            char c = s.charAt(right);
            right++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            if (need.containsKey(c)) {
                window.put(c, window.getOrDefault(c, 0) + 1);
                if (window.get(c).intValue() == need.get(c).intValue())
                    valid++;
            }

            // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
            while (right - left >= t.length()) {
                // åœ¨è¿™é‡Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†åˆæ³•çš„å­ä¸²
                if (valid == need.size())
                    return true;
                char d = s.charAt(left);
                left++;
                // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
                if (need.containsKey(d)) {
                    if (window.get(d).intValue() == need.get(d).intValue())
                        valid--;
                    window.put(d, window.get(d) - 1);
                }
            }
        }
        // æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å­ä¸²
        return false;
    }
}
```



### [ä¸‰ã€æ‰¾æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://labuladong.online/algo/essential-technique/sliding-window-framework/#ä¸‰ã€æ‰¾æ‰€æœ‰å­—æ¯å¼‚ä½è¯)

è¿™æ˜¯åŠ›æ‰£ç¬¬ 438 é¢˜ã€Œ[æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)ã€ï¼Œéš¾åº¦ä¸­ç­‰ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/find-all-anagrams-in-a-string/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/find-all-anagrams-in-a-string/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code>&nbsp;å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">p</code>ï¼Œæ‰¾åˆ°&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><strong style="font-weight: 600;">&nbsp;</strong>ä¸­æ‰€æœ‰&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">p</code><strong style="font-weight: 600;">&nbsp;</strong>çš„&nbsp;<strong style="font-weight: 600;">å¼‚ä½è¯&nbsp;</strong>çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">å¼‚ä½è¯<span>&nbsp;</span></strong>æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;1:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>s = "cbaebabacd", p = "abc"
<strong style="font-weight: 600;">è¾“å‡º: </strong>[0,6]
<strong style="font-weight: 600;">è§£é‡Š:</strong>
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">&nbsp;ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>s = "abab", p = "ab"
<strong style="font-weight: 600;">è¾“å‡º: </strong>[0,1,2]
<strong style="font-weight: 600;">è§£é‡Š:</strong>
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤º:</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= s.length, p.length &lt;= 3 * 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code>&nbsp;å’Œ&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">p</code>&nbsp;ä»…åŒ…å«å°å†™å­—æ¯</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/find-all-anagrams-in-a-string/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</a>ã€‚</strong></details>



```java
class Solution {
    public List<Integer> findAnagrams(String s, String t) {
        Map<Character, Integer> need = new HashMap<>();
        Map<Character, Integer> window = new HashMap<>();
        for (char c : t.toCharArray()) {
            need.put(c, need.getOrDefault(c, 0) + 1);
        }

        int left = 0, right = 0;
        int valid = 0;
        // è®°å½•ç»“æœ
        List<Integer> res = new ArrayList<>();
        while (right < s.length()) {
            char c = s.charAt(right);
            right++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            if (need.containsKey(c)) {
                window.put(c, window.getOrDefault(c, 0) + 1);
                if (window.get(c).equals(need.get(c))) {
                    valid++;
                }
            }
            // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
            while (right - left >= t.length()) {
                // å½“çª—å£ç¬¦åˆæ¡ä»¶æ—¶ï¼ŒæŠŠèµ·å§‹ç´¢å¼•åŠ å…¥ res
                if (valid == need.size())
                    res.add(left);
                char d = s.charAt(left);
                left++;
                // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
                if (need.containsKey(d)) {
                    if (window.get(d).equals(need.get(d))) {
                        valid--;
                    }
                    window.put(d, window.get(d) - 1);
                }
            }
        }
        return res;
    }
}
```



### [å››ã€æœ€é•¿æ— é‡å¤å­ä¸²](https://labuladong.online/algo/essential-technique/sliding-window-framework/#å››ã€æœ€é•¿æ— é‡å¤å­ä¸²)

è¿™æ˜¯åŠ›æ‰£ç¬¬ 3 é¢˜ã€Œ[æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)ã€ï¼Œéš¾åº¦ä¸­ç­‰ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/longest-substring-without-repeating-characters/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code><span>&nbsp;</span>ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„&nbsp;<strong style="font-weight: 600;">æœ€é•¿<span>&nbsp;</span><span data-keyword="substring-nonempty">å­ä¸²</span></strong><strong style="font-weight: 600;">&nbsp;</strong>çš„é•¿åº¦ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹&nbsp;1:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>s = "abcabcbb"
<strong style="font-weight: 600;">è¾“å‡º: </strong>3 
<strong style="font-weight: 600;">è§£é‡Š:</strong> å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <code style="font-family: var(--vp-font-mono); padding: 0px; border-radius: 0px;">"abc"</code>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>s = "bbbbb"
<strong style="font-weight: 600;">è¾“å‡º: </strong>1
<strong style="font-weight: 600;">è§£é‡Š: </strong>å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <code style="font-family: var(--vp-font-mono); padding: 0px; border-radius: 0px;">"b"</code>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3:</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥: </strong>s = "pwwkew"
<strong style="font-weight: 600;">è¾“å‡º: </strong>3
<strong style="font-weight: 600;">è§£é‡Š: </strong>å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯&nbsp;<code style="font-family: var(--vp-font-mono); padding: 0px; border-radius: 0px;">"wke"</code>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
&nbsp;    è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ <strong style="font-weight: 600;">å­ä¸² </strong>çš„é•¿åº¦ï¼Œ<code style="font-family: var(--vp-font-mono); padding: 0px; border-radius: 0px;">"pwke"</code>&nbsp;æ˜¯ä¸€ä¸ª<em>å­åºåˆ—ï¼Œ</em>ä¸æ˜¯å­ä¸²ã€‚
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= s.length &lt;= 5 * 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">s</code>&nbsp;ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a>ã€‚</strong></details>



```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        Map<Character, Integer> window = new HashMap<>();
        int left = 0, right = 0;
        // è®°å½•ç»“æœ
        int res = 0;
        while (right < s.length()) {
            char c = s.charAt(right);
            right++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            window.put(c, window.getOrDefault(c, 0) + 1);
            // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
            while (window.get(c) > 1) {
                char d = s.charAt(left);
                left++;
                // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
                window.put(d, window.get(d) - 1);
            }
            // åœ¨è¿™é‡Œæ›´æ–°ç­”æ¡ˆ
            res = Math.max(res, right - left);
        }
        return res;
    }
}
```



## 2.3 äºŒåˆ†æœç´¢ç®—æ³•æ ¸å¿ƒä»£ç æ¨¡æ¿

> å†™åœ¨å‰é¢ï¼šåˆ†æäºŒåˆ†æŸ¥æ‰¾ä»£ç æ—¶ï¼Œä¸è¦å‡ºç° elseï¼Œå…¨éƒ¨å±•å¼€æˆ else if æ–¹ä¾¿ç†è§£ã€‚æŠŠé€»è¾‘å†™å¯¹ä¹‹åå†åˆå¹¶åˆ†æ”¯ï¼Œæå‡è¿è¡Œæ•ˆç‡ã€‚

äºŒåˆ†æŸ¥æ‰¾ä¸»è¦åˆ†ä¸‰ç§æƒ…å†µï¼š

- æ™®é€šçš„äºŒåˆ†æŸ¥æ‰¾ï¼Œä¸€èˆ¬æ•°ç»„é‡Œé¢åªæœ‰ä¸€ä¸ªç›®æ ‡å€¼æˆ–è€…æ²¡æœ‰ï¼Œæ‰¾åˆ°å°±ç›´æ¥è¿”å›ï¼ŒæŸ¥å®Œäº†æ²¡æ‰¾åˆ°å°±return -1

- å·¦è¾¹ç•ŒæŸ¥æ‰¾ï¼šæ•°ç»„ä¸­çš„ç›®æ ‡å€¼æœ‰å¤šä¸ªï¼Œè¿”å›æœ€å·¦è¾¹çš„é‚£ä¸ª

- å³è¾¹ç•ŒæŸ¥æ‰¾ï¼šæ•°ç»„ä¸­çš„ç›®æ ‡å€¼æœ‰å¤šä¸ªï¼Œè¿”å›æœ€å³è¾¹çš„é‚£ä¸ª

  > æ³¨æ„ï¼šå·¦è¾¹ç•ŒæŸ¥æ‰¾å’Œå³è¾¹ç•ŒæŸ¥æ‰¾ä¸€å®šè¦æ³¨æ„æ²¡æ‰¾åˆ°çš„æƒ…å†µï¼Œæ­¤æ—¶ä¸èƒ½ç›´æ¥returnç´¢å¼•ï¼Œå› ä¸ºæ‰€ä»¥å…¶å®æŒ‡å‘äº†æŸä¸ªç‰¹å®šçš„å€¼ï¼Œæ ¹æ®ä¸åŒçš„å†™æ³•ï¼Œæ‰€è¿”å›çš„ç´¢å¼•`left`ã€`right`å¯èƒ½æŒ‡å‘å°äºç›®æ ‡å€¼çš„æœ€å¤§å€¼æˆ–è€…å¤§äºç›®æ ‡å€¼çš„æœ€å°å€¼ï¼Œæ‰€ä»¥æ­¤æ—¶returnç»“æœçš„æ—¶å€™è¦åˆ¤æ–­åˆ°åº•æ˜¯ä¸æ˜¯ç›®æ ‡å€¼ï¼Œç”¨ä¸€ä¸ªä¸‰ç›®è¿ç®—ç¬¦ï¼Œå…·ä½“è§ä»£ç 

```java
/**
*	äºŒåˆ†æœç´¢ä»£ç æ¨¡æ¿
*/

int binary_search(int[] nums, int target) {
        // ç»Ÿä¸€é—­åŒºé—´
    	int left = 0;
    	int right = nums.length - 1;

    	// é—­åŒºé—´æ‰€ä»¥æ‰§è¡Œæ¡ä»¶è¦åŒ…å« left == right
        while (left <= right) {
            // è¿™ç§midæ±‚æ³•æ›´å®‰å…¨ï¼Œç›¸å¯¹â€œ(left + right)/2â€æ¥è¯´æ›´ä¸å®¹æ˜“æº¢å‡º
            int mid = left + (right - left) / 2;
            
            if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid - 1;
            } else if (nums[mid] == target) {
                // 1ã€æ™®é€šäºŒåˆ†æŸ¥æ‰¾ï¼šç›´æ¥è¿”å›
                return mid;

				// 2ã€å·¦è¾¹ç•ŒæŸ¥æ‰¾ï¼šåˆ«è¿”å›ï¼Œé”å®šå·¦ä¾§è¾¹ç•Œ
                right = mid - 1;

				// 3ã€å³è¾¹ç•ŒæŸ¥æ‰¾ï¼šåˆ«è¿”å›ï¼Œé”å®šå³ä¾§è¾¹ç•Œ
                left = mid - 1;
            }
        }

        // 1ã€ç›´æ¥è¿”å›
        return -1;
    
    	// 2ã€å·¦è¾¹ç•ŒæŸ¥æ‰¾
    	// åˆ¤æ–­ target æ˜¯å¦å­˜åœ¨äº nums ä¸­ï¼ˆè¾¹ç•Œæ£€æŸ¥ï¼‰
        if (left < 0 || left >= nums.length) {
            return -1;
        }
        // åˆ¤æ–­ä¸€ä¸‹ nums[left] æ˜¯ä¸æ˜¯ target
        return nums[left] == target ? left : -1;
    
    	// 3ã€å³è¾¹ç•ŒæŸ¥æ‰¾
    	// ç”±äº while çš„ç»“æŸæ¡ä»¶æ˜¯ right == left - 1ï¼Œä¸”ç°åœ¨åœ¨æ±‚å³è¾¹ç•Œ
        // æ‰€ä»¥ç”¨ right æ›¿ä»£ left - 1 æ›´å¥½è®°
        // å¦‚æœè¦ç»Ÿä¸€ä¹Ÿå¯ä»¥å†™æˆ left - 1 ï¼ŒåŸç†å¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬å·¦å³éƒ½æ˜¯é—­åŒºé—´ï¼Œæ‰¾åˆ°midä¹‹åleft = mid + 1 çœ‹çœ‹åé¢è¿˜æœ‰æ²¡æœ‰ï¼Œæ‰€ä»¥æœ€åæ‰¾åˆ°çš„è¯ left æ˜¯ä¼šåœ¨ target å³è¾¹ä¸€ä½çš„
        if (right < 0 || right >= nums.length) {
            return -1;
        }
        return nums[right] == target ? right : -1;
    }
```



## 2.4 å®é™…è¿ç”¨äºŒåˆ†æœç´¢æ—¶çš„æ€ç»´æ¡†æ¶

æ­¤é¡µå†…å®¹

- [åŸå§‹çš„äºŒåˆ†æœç´¢ä»£ç ](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#åŸå§‹çš„äºŒåˆ†æœç´¢ä»£ç )
- [è¿ç”¨äºŒåˆ†æœç´¢çš„å¥—è·¯æ¡†æ¶](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#è¿ç”¨äºŒåˆ†æœç´¢çš„å¥—è·¯æ¡†æ¶)
- [ä¾‹é¢˜ä¸€ã€ç‚ç‚åƒé¦™è•‰](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#ä¾‹é¢˜ä¸€ã€ç‚ç‚åƒé¦™è•‰)
- [ä¾‹é¢˜äºŒã€è¿é€è´§ç‰©](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#ä¾‹é¢˜äºŒã€è¿é€è´§ç‰©)
- [ä¾‹é¢˜ä¸‰ã€åˆ†å‰²æ•°ç»„](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#ä¾‹é¢˜ä¸‰ã€åˆ†å‰²æ•°ç»„)

æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [1011. Capacity To Ship Packages Within D Days](https://leetcode.com/problems/capacity-to-ship-packages-within-d-days/) | [1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›](https://leetcode.cn/problems/capacity-to-ship-packages-within-d-days/) |  ğŸŸ    |
| [410. Split Array Largest Sum](https://leetcode.com/problems/split-array-largest-sum/) | [410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode.cn/problems/split-array-largest-sum/) |  ğŸ”´   |
| [875. Koko Eating Bananas](https://leetcode.com/problems/koko-eating-bananas/) | [875. çˆ±åƒé¦™è•‰çš„ç‚ç‚](https://leetcode.cn/problems/koko-eating-bananas/) |  ğŸŸ    |



### [åŸå§‹çš„äºŒåˆ†æœç´¢ä»£ç ](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#åŸå§‹çš„äºŒåˆ†æœç´¢ä»£ç )

```java
// æœç´¢å·¦ä¾§è¾¹ç•Œ
int left_bound(int[] nums, int target) {
    if (nums.length == 0) return -1;
    int left = 0, right = nums.length;
    
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) {
            // å½“æ‰¾åˆ° target æ—¶ï¼Œæ”¶ç¼©å³ä¾§è¾¹ç•Œ
            right = mid;
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid;
        }
    }
    return left;
}
```



```java
// æœç´¢å³ä¾§è¾¹ç•Œ
int right_bound(int[] nums, int target) {
    if (nums.length == 0) return -1;
    int left = 0, right = nums.length;

    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) {
            // å½“æ‰¾åˆ° target æ—¶ï¼Œæ”¶ç¼©å·¦ä¾§è¾¹ç•Œ
            left = mid + 1;
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid;
        }
    }
    return left - 1;
}
```



### [ä¾‹é¢˜ä¸€ã€ç‚ç‚åƒé¦™è•‰](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#ä¾‹é¢˜ä¸€ã€ç‚ç‚åƒé¦™è•‰)

è¿™æ˜¯åŠ›æ‰£ç¬¬ 875 é¢˜ã€Œ[çˆ±åƒé¦™è•‰çš„ç‚ç‚](https://leetcode.cn/problems/koko-eating-bananas/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, STHeiti, &quot;Microsoft YaHei&quot;, SimSun, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">875. çˆ±åƒé¦™è•‰çš„ç‚ç‚</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/koko-eating-bananas/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/koko-eating-bananas/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç‚ç‚å–œæ¬¢åƒé¦™è•‰ã€‚è¿™é‡Œæœ‰<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n</code><span>&nbsp;</span>å †é¦™è•‰ï¼Œç¬¬<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">i</code><span>&nbsp;</span>å †ä¸­æœ‰&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">piles[i]</code>&nbsp;æ ¹é¦™è•‰ã€‚è­¦å«å·²ç»ç¦»å¼€äº†ï¼Œå°†åœ¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">h</code><span>&nbsp;</span>å°æ—¶åå›æ¥ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç‚ç‚å¯ä»¥å†³å®šå¥¹åƒé¦™è•‰çš„é€Ÿåº¦<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>ï¼ˆå•ä½ï¼šæ ¹/å°æ—¶ï¼‰ã€‚æ¯ä¸ªå°æ—¶ï¼Œå¥¹å°†ä¼šé€‰æ‹©ä¸€å †é¦™è•‰ï¼Œä»ä¸­åƒæ‰<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>æ ¹ã€‚å¦‚æœè¿™å †é¦™è•‰å°‘äº<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>æ ¹ï¼Œå¥¹å°†åƒæ‰è¿™å †çš„æ‰€æœ‰é¦™è•‰ï¼Œç„¶åè¿™ä¸€å°æ—¶å†…ä¸ä¼šå†åƒæ›´å¤šçš„é¦™è•‰ã€‚&nbsp;&nbsp;</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç‚ç‚å–œæ¬¢æ…¢æ…¢åƒï¼Œä½†ä»ç„¶æƒ³åœ¨è­¦å«å›æ¥å‰åƒæ‰æ‰€æœ‰çš„é¦™è•‰ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›å¥¹å¯ä»¥åœ¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">h</code><span>&nbsp;</span>å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code>ï¼ˆ<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>ä¸ºæ•´æ•°ï¼‰ã€‚</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>piles = [3,6,7,11], h = 8
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>4
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>piles = [30,11,23,4,20], h = 5
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>30
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>piles = [30,11,23,4,20], h = 6
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>23
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= piles.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">piles.length &lt;= h &lt;= 10<sup>9</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= piles[i] &lt;= 10<sup>9</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/koko-eating-bananas/" class="" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 875. çˆ±åƒé¦™è•‰çš„ç‚ç‚</a>ã€‚</strong></details>

```java
class Solution {
    public int minEatingSpeed(int[] piles, int H) {
        int left = 1;
        int right = 1000000000 + 1;
        
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (f(piles, mid) == H) {
                // æœç´¢å·¦ä¾§è¾¹ç•Œï¼Œåˆ™éœ€è¦æ”¶ç¼©å³ä¾§è¾¹ç•Œ
                right = mid;
            } else if (f(piles, mid) < H) {
                // éœ€è¦è®© f(x) çš„è¿”å›å€¼å¤§ä¸€äº›
                right = mid;
            } else if (f(piles, mid) > H) {
                // éœ€è¦è®© f(x) çš„è¿”å›å€¼å°ä¸€äº›
                left = mid + 1;
            }
        }
        return left;
    }
}
```

Tip

æˆ‘è¿™é‡Œé‡‡ç”¨çš„æ˜¯å·¦é—­å³å¼€çš„äºŒåˆ†æœç´¢å†™æ³•ï¼Œå¦‚æœæƒ³ç”¨ä¸¤ç«¯éƒ½é—­çš„å†™æ³•ï¼Œåªè¦ä¿®æ”¹ `right` çš„åˆå§‹å€¼å’Œ `right` æ›´æ–°çš„é€»è¾‘å³å¯ï¼š

```java
// ä¸¤ç«¯éƒ½é—­çš„äºŒåˆ†æœç´¢å†™æ³•
int minEatingSpeed(int[] piles, int H) {
    int left = 1;
    // right æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥è¿™é‡Œæ”¹æˆæœ€å¤§å–å€¼
    int right = 1000000000;

    // right æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥è¿™é‡Œæ”¹æˆ <=
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (f(piles, mid) <= H) {
            // right æ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥è¿™é‡Œç”¨ mid - 1
            right = mid - 1;
        } else {
            left = mid + 1;
        }
    }
    return left;
}
```



è‡³æ­¤ï¼Œè¿™é“é¢˜å°±è§£å†³äº†ã€‚æˆ‘ä»¬ä»£ç æ¡†æ¶ä¸­å¤šä½™çš„ if åˆ†æ”¯ä¸»è¦æ˜¯å¸®åŠ©ç†è§£çš„ï¼Œå†™å‡ºæ­£ç¡®è§£æ³•åå»ºè®®åˆå¹¶å¤šä½™çš„åˆ†æ”¯ï¼Œå¯ä»¥æé«˜ç®—æ³•è¿è¡Œçš„æ•ˆç‡ï¼š

```java
class Solution {
    public int minEatingSpeed(int[] piles, int H) {
        int left = 1;
        int right = 1000000000 + 1;
        
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (f(piles, mid) <= H) {
                right = mid;
            } else {
                left = mid + 1;
            }
        }
        return left;
    }

    // f(x) éšç€ x çš„å¢åŠ å•è°ƒé€’å‡
    long f(int[] piles, int x) {
        long hours = 0;
        for (int i = 0; i < piles.length; i++) {
            hours += piles[i] / x;
            if (piles[i] % x > 0) {
                hours++;
            }
        }
        return hours;
    }
}
```

### [ä¾‹é¢˜äºŒã€è¿é€è´§ç‰©](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#ä¾‹é¢˜äºŒã€è¿é€è´§ç‰©)

å†çœ‹çœ‹åŠ›æ‰£ç¬¬ 1011 é¢˜ã€Œ[åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›](https://leetcode.cn/problems/capacity-to-ship-packages-within-d-days/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, STHeiti, &quot;Microsoft YaHei&quot;, SimSun, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/capacity-to-ship-packages-within-d-days/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/capacity-to-ship-packages-within-d-days/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ä¼ é€å¸¦ä¸Šçš„åŒ…è£¹å¿…é¡»åœ¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">days</code><span>&nbsp;</span>å¤©å†…ä»ä¸€ä¸ªæ¸¯å£è¿é€åˆ°å¦ä¸€ä¸ªæ¸¯å£ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">ä¼ é€å¸¦ä¸Šçš„ç¬¬<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">i</code>&nbsp;ä¸ªåŒ…è£¹çš„é‡é‡ä¸º&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">weights[i]</code>ã€‚æ¯ä¸€å¤©ï¼Œæˆ‘ä»¬éƒ½ä¼šæŒ‰ç»™å‡ºé‡é‡ï¼ˆ<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">weights</code>ï¼‰çš„é¡ºåºå¾€ä¼ é€å¸¦ä¸Šè£…è½½åŒ…è£¹ã€‚æˆ‘ä»¬è£…è½½çš„é‡é‡ä¸ä¼šè¶…è¿‡èˆ¹çš„æœ€å¤§è¿è½½é‡é‡ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¿”å›èƒ½åœ¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">days</code><span>&nbsp;</span>å¤©å†…å°†ä¼ é€å¸¦ä¸Šçš„æ‰€æœ‰åŒ…è£¹é€è¾¾çš„èˆ¹çš„æœ€ä½è¿è½½èƒ½åŠ›ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>weights = [1,2,3,4,5,6,7,8,9,10], days = 5
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>15
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
èˆ¹èˆ¶æœ€ä½è½½é‡ 15 å°±èƒ½å¤Ÿåœ¨ 5 å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ç¬¬ 1 å¤©ï¼š1, 2, 3, 4, 5
ç¬¬ 2 å¤©ï¼š6, 7
ç¬¬ 3 å¤©ï¼š8
ç¬¬ 4 å¤©ï¼š9
ç¬¬ 5 å¤©ï¼š10
è¯·æ³¨æ„ï¼Œè´§ç‰©å¿…é¡»æŒ‰ç…§ç»™å®šçš„é¡ºåºè£…è¿ï¼Œå› æ­¤ä½¿ç”¨è½½é‡èƒ½åŠ›ä¸º 14 çš„èˆ¹èˆ¶å¹¶å°†åŒ…è£…åˆ†æˆ (2, 3, 4, 5), (1, 6, 7), (8), (9), (10) æ˜¯ä¸å…è®¸çš„ã€‚ 
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>weights = [3,2,2,4,1,4], days = 3
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>6
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
èˆ¹èˆ¶æœ€ä½è½½é‡ 6 å°±èƒ½å¤Ÿåœ¨ 3 å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ç¬¬ 1 å¤©ï¼š3, 2
ç¬¬ 2 å¤©ï¼š2, 4
ç¬¬ 3 å¤©ï¼š1, 4
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong class="example" style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>weights = [1,2,3,1,1], days = 4
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>3
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
ç¬¬ 1 å¤©ï¼š1
ç¬¬ 2 å¤©ï¼š2
ç¬¬ 3 å¤©ï¼š3
ç¬¬ 4 å¤©ï¼š1, 1
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= days &lt;= weights.length &lt;= 5 * 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= weights[i] &lt;= 500</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/capacity-to-ship-packages-within-d-days/" class="" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›</a>ã€‚</strong></details>

```java
public int shipWithinDays(int[] weights, int days) {
    int left = 0;
    // æ³¨æ„ï¼Œright æ˜¯å¼€åŒºé—´ï¼Œæ‰€ä»¥é¢å¤–åŠ ä¸€
    int right = 1;
    for (int w : weights) {
        left = Math.max(left, w);
        right += w;
    }
    
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (f(weights, mid) == days) {
            // æœç´¢å·¦ä¾§è¾¹ç•Œï¼Œåˆ™éœ€è¦æ”¶ç¼©å³ä¾§è¾¹ç•Œ
            right = mid;
        } else if (f(weights, mid) < days) {
            // éœ€è¦è®© f(x) çš„è¿”å›å€¼å¤§ä¸€äº›
            right = mid;
        } else if (f(weights, mid) > days) {
            // éœ€è¦è®© f(x) çš„è¿”å›å€¼å°ä¸€äº›
            left = mid + 1;
        }
    }
    
    return left;
}
```

åˆ°è¿™é‡Œï¼Œè¿™é“é¢˜çš„è§£æ³•ä¹Ÿå†™å‡ºæ¥äº†ï¼Œæˆ‘ä»¬åˆå¹¶ä¸€ä¸‹å¤šä½™çš„ if åˆ†æ”¯ï¼Œæé«˜ä»£ç è¿è¡Œé€Ÿåº¦ï¼Œæœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š



```java
class Solution {
    public int shipWithinDays(int[] weights, int days) {
        int left = 0;
        int right = 1;
        for (int w : weights) {
            left = Math.max(left, w);
            right += w;
        }

        while (left < right) {
            int mid = left + (right - left) / 2;
            if (f(weights, mid) <= days) {
                right = mid;
            } else {
                left = mid + 1;
            }
        }

        return left;
    }

    int f(int[] weights, int x) {
        int days = 0;
        for (int i = 0; i < weights.length; ) {
            int cap = x;
            while (i < weights.length) {
                if (cap < weights[i]) break;
                else cap -= weights[i];
                i++;
            }
            days++;
        }
        return days;
    }
}
```



### [ä¾‹é¢˜ä¸‰ã€åˆ†å‰²æ•°ç»„](https://labuladong.online/algo/frequency-interview/binary-search-in-action/#ä¾‹é¢˜ä¸‰ã€åˆ†å‰²æ•°ç»„)

æˆ‘ä»¬å®æ“ä¸€ä¸‹åŠ›æ‰£ç¬¬ 410 é¢˜ã€Œ[åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode.cn/problems/split-array-largest-sum/)ã€ï¼Œéš¾åº¦ä¸ºå›°éš¾ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, STHeiti, &quot;Microsoft YaHei&quot;, SimSun, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼</strong>&nbsp;|<span>&nbsp;</span><span><a href="https://leetcode.cn/problems/split-array-largest-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£</a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a href="https://leetcode.com/problems/split-array-largest-sum/" class="" target="_blank" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode</a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸ”´</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>å’Œä¸€ä¸ªæ•´æ•°&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><span>&nbsp;</span>ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><em>&nbsp;</em>ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">k</code><em>&nbsp;</em>ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [7,2,5,10,8], k = 2
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>18
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
ä¸€å…±æœ‰å››ç§æ–¹æ³•å°† nums åˆ†å‰²ä¸º 2 ä¸ªå­æ•°ç»„ã€‚ 
å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º [7,2,5] å’Œ [10,8] ã€‚
å› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1,2,3,4,5], k = 2
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>9
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 3ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>nums = [1,4,4], k = 3
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>4
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= nums.length &lt;= 1000</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= nums[i] &lt;= 10<sup>6</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= k &lt;= min(50, nums.length)</code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/split-array-largest-sum/" class="" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼</a>ã€‚</strong></details>
```java
class Solution {
     public int splitArray(int[] nums, int m) {
        return shipWithinDays(nums, m);
    }

    int shipWithinDays(int[] weights, int days) {
        // è§ä¸Šæ–‡
    }

    int f(int[] weights, int x) {
        // è§ä¸Šæ–‡
    }
}
```



## 2.5 å°è€Œç¾çš„ç®—æ³•æŠ€å·§ï¼šå‰ç¼€å’Œæ•°ç»„

æ­¤é¡µå†…å®¹

- [ä¸€ç»´æ•°ç»„ä¸­çš„å‰ç¼€å’Œ](https://labuladong.online/algo/data-structure/prefix-sum/#ä¸€ç»´æ•°ç»„ä¸­çš„å‰ç¼€å’Œ)
- [äºŒç»´çŸ©é˜µä¸­çš„å‰ç¼€å’Œ](https://labuladong.online/algo/data-structure/prefix-sum/#äºŒç»´çŸ©é˜µä¸­çš„å‰ç¼€å’Œ)
- [æ‹“å±•å»¶ä¼¸](https://labuladong.online/algo/data-structure/prefix-sum/#æ‹“å±•å»¶ä¼¸)

æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [303. Range Sum Query - Immutable](https://leetcode.com/problems/range-sum-query-immutable/) | [303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜](https://leetcode.cn/problems/range-sum-query-immutable/) |  ğŸŸ¢   |
| [304. Range Sum Query 2D - Immutable](https://leetcode.com/problems/range-sum-query-2d-immutable/) | [304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜](https://leetcode.cn/problems/range-sum-query-2d-immutable/) |  ğŸŸ    |

å‰ç½®çŸ¥è¯†

é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š

- [æ•°ç»„åŸºç¡€](https://labuladong.online/algo/data-structure-basic/array-basic/)

å‰ç¼€å’ŒæŠ€å·§é€‚ç”¨äºå¿«é€Ÿã€é¢‘ç¹åœ°è®¡ç®—ä¸€ä¸ªç´¢å¼•åŒºé—´å†…çš„å…ƒç´ ä¹‹å’Œã€‚

### [ä¸€ç»´æ•°ç»„ä¸­çš„å‰ç¼€å’Œ](https://labuladong.online/algo/data-structure/prefix-sum/#ä¸€ç»´æ•°ç»„ä¸­çš„å‰ç¼€å’Œ)

å…ˆçœ‹ä¸€é“ä¾‹é¢˜ï¼ŒåŠ›æ‰£ç¬¬ 303 é¢˜ã€Œ[åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜](https://leetcode.cn/problems/range-sum-query-immutable/)ã€ï¼Œè®©ä½ è®¡ç®—æ•°ç»„åŒºé—´å†…å…ƒç´ çš„å’Œï¼Œè¿™æ˜¯ä¸€é“æ ‡å‡†çš„å‰ç¼€å’Œé—®é¢˜ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/range-sum-query-immutable/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/range-sum-query-immutable/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ¢</summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ &nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code>ï¼Œå¤„ç†ä»¥ä¸‹ç±»å‹çš„å¤šä¸ªæŸ¥è¯¢:</p><ol style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li>è®¡ç®—ç´¢å¼•&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left</code>&nbsp;å’Œ&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">right</code>&nbsp;ï¼ˆåŒ…å«<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left</code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">right</code>ï¼‰ä¹‹é—´çš„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>å…ƒç´ çš„<span>&nbsp;</span><strong style="font-weight: 600;">å’Œ</strong><span>&nbsp;</span>ï¼Œå…¶ä¸­&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left &lt;= right</code></li></ol><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">NumArray</code><span>&nbsp;</span>ç±»ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">NumArray(int[] nums)</code><span>&nbsp;</span>ä½¿ç”¨æ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code><span>&nbsp;</span>åˆå§‹åŒ–å¯¹è±¡</li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">int sumRange(int i, int j)</code><span>&nbsp;</span>è¿”å›æ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums</code>&nbsp;ä¸­ç´¢å¼•&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left</code>&nbsp;å’Œ&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">right</code>&nbsp;ä¹‹é—´çš„å…ƒç´ çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ€»å’Œ</strong><span>&nbsp;</span>ï¼ŒåŒ…å«&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">left</code>&nbsp;å’Œ&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">right</code>&nbsp;ä¸¤ç‚¹ï¼ˆä¹Ÿå°±æ˜¯&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">nums[left] + nums[left + 1] + ... + nums[right]</code>&nbsp;)</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>
["NumArray", "sumRange", "sumRange", "sumRange"]
[[[-2, 0, 3, -5, 2, -1]], [0, 2], [2, 5], [0, 5]]
<strong style="font-weight: 600;">è¾“å‡ºï¼š
</strong>[null, 1, -1, -3]

<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
NumArray numArray = new NumArray([-2, 0, 3, -5, 2, -1]);
numArray.sumRange(0, 2); // return 1 ((-2) + 0 + 3)
numArray.sumRange(2, 5); // return -1 (3 + (-5) + 2 + (-1)) 
numArray.sumRange(0, 5); // return -3 ((-2) + 0 + 3 + (-5) + 2 + (-1))
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= nums.length &lt;= 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-10<sup>5</sup>&nbsp;&lt;= nums[i] &lt;=&nbsp;10<sup>5</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= i &lt;= j &lt; nums.length</code></li><li>æœ€å¤šè°ƒç”¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">10<sup>4</sup></code><span>&nbsp;</span>æ¬¡<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">sumRange</code><strong style="font-weight: 600;"><span>&nbsp;</span></strong>æ–¹æ³•</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/range-sum-query-immutable/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜</a>ã€‚</strong></details>

```java
class NumArray {
    // å‰ç¼€å’Œæ•°ç»„
    private int[] preSum;

    // è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ„é€ å‰ç¼€å’Œ
    public NumArray(int[] nums) {
        // preSum[0] = 0ï¼Œä¾¿äºè®¡ç®—ç´¯åŠ å’Œ
        preSum = new int[nums.length + 1];
        // è®¡ç®— nums çš„ç´¯åŠ å’Œ
        for (int i = 1; i < preSum.length; i++) {
            preSum[i] = preSum[i - 1] + nums[i - 1];
        }
    }

    // æŸ¥è¯¢é—­åŒºé—´ [left, right] çš„ç´¯åŠ å’Œ
    public int sumRange(int left, int right) {
        return preSum[right + 1] - preSum[left];
    }
}
```

æ ¸å¿ƒæ€è·¯æ˜¯æˆ‘ä»¬ new ä¸€ä¸ªæ–°çš„æ•°ç»„ `preSum` å‡ºæ¥ï¼Œ`preSum[i]` è®°å½• `nums[0..i-1]` çš„ç´¯åŠ å’Œï¼Œçœ‹å›¾ 10=3+5+210=3+5+2ï¼š

![img](https://labuladong.online/algo/images/difference/1.jpeg)

çœ‹è¿™ä¸ª `preSum` æ•°ç»„ï¼Œå¦‚æœæˆ‘æƒ³æ±‚ç´¢å¼•åŒºé—´ `[1, 4]` å†…çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œï¼Œå°±å¯ä»¥é€šè¿‡ `preSum[5] - preSum[1]` å¾—å‡ºã€‚

è¿™æ ·ï¼Œ`sumRange` å‡½æ•°ä»…ä»…éœ€è¦åšä¸€æ¬¡å‡æ³•è¿ç®—ï¼Œé¿å…äº†æ¯æ¬¡è¿›è¡Œ for å¾ªç¯è°ƒç”¨ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦ä¸ºå¸¸æ•° O(1)*O*(1)ã€‚



è¿™ä¸ªæŠ€å·§åœ¨ç”Ÿæ´»ä¸­è¿ç”¨ä¹ŸæŒºå¹¿æ³›çš„ï¼Œæ¯”æ–¹è¯´ï¼Œä½ ä»¬ç­ä¸Šæœ‰è‹¥å¹²åŒå­¦ï¼Œæ¯ä¸ªåŒå­¦æœ‰ä¸€ä¸ªæœŸæœ«è€ƒè¯•çš„æˆç»©ï¼ˆæ»¡åˆ† 100 åˆ†ï¼‰ï¼Œé‚£ä¹ˆè¯·ä½ å®ç°ä¸€ä¸ª APIï¼Œè¾“å…¥ä»»æ„ä¸€ä¸ªåˆ†æ•°æ®µï¼Œè¿”å›æœ‰å¤šå°‘åŒå­¦çš„æˆç»©åœ¨è¿™ä¸ªåˆ†æ•°æ®µå†…ã€‚

é‚£ä¹ˆï¼Œä½ å¯ä»¥å…ˆé€šè¿‡è®¡æ•°æ’åºçš„æ–¹å¼è®¡ç®—æ¯ä¸ªåˆ†æ•°å…·ä½“æœ‰å¤šå°‘ä¸ªåŒå­¦ï¼Œç„¶ååˆ©ç”¨å‰ç¼€å’ŒæŠ€å·§æ¥å®ç°åˆ†æ•°æ®µæŸ¥è¯¢çš„ APIï¼š

```java
// å­˜å‚¨ç€æ‰€æœ‰åŒå­¦çš„åˆ†æ•°
int[] scores = new int[]{...};
// è¯•å·æ»¡åˆ† 100 åˆ†
int[] count = new int[100 + 1];

// è®°å½•æ¯ä¸ªåˆ†æ•°æœ‰å‡ ä¸ªåŒå­¦
for (int score : scores) {
    count[score]++;
}
// æ„é€ å‰ç¼€å’Œ
for (int i = 1; i < count.length; i++) {
    count[i] = count[i] + count[i-1];
}

// åˆ©ç”¨ count è¿™ä¸ªå‰ç¼€å’Œæ•°ç»„è¿›è¡Œåˆ†æ•°æ®µæŸ¥è¯¢

// æŸ¥è¯¢åˆ†æ•°åœ¨ [80, 90] ä¹‹é—´çš„åŒå­¦æœ‰å¤šå°‘äºº
int result = count[90] - count[80];
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€çœ‹å‰ç¼€å’Œæ€è·¯åœ¨äºŒç»´æ•°ç»„ä¸­å¦‚ä½•è¿ç”¨ã€‚



### [äºŒç»´çŸ©é˜µä¸­çš„å‰ç¼€å’Œ](https://labuladong.online/algo/data-structure/prefix-sum/#äºŒç»´çŸ©é˜µä¸­çš„å‰ç¼€å’Œ)

è¿™æ˜¯åŠ›æ‰£ç¬¬ 304 é¢˜ã€Œ[äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜](https://leetcode.cn/problems/range-sum-query-2d-immutable/)ã€ï¼Œå…¶å®å’Œä¸Šä¸€é¢˜ç±»ä¼¼ï¼Œä¸Šä¸€é¢˜æ˜¯è®©ä½ è®¡ç®—å­æ•°ç»„çš„å…ƒç´ ä¹‹å’Œï¼Œè¿™é“é¢˜è®©ä½ è®¡ç®—äºŒç»´çŸ©é˜µä¸­å­çŸ©é˜µçš„å…ƒç´ ä¹‹å’Œï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/range-sum-query-2d-immutable/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/range-sum-query-2d-immutable/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;"><big><small>ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">matrix</code>ï¼Œ</small></big>ä»¥ä¸‹ç±»å‹çš„å¤šä¸ªè¯·æ±‚ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><big><small>è®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„<span>&nbsp;</span><strong style="font-weight: 600;">å·¦ä¸Šè§’</strong><span>&nbsp;</span>ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">(row1,&nbsp;col1)</code><span>&nbsp;</span>ï¼Œ<strong style="font-weight: 600;">å³ä¸‹è§’</strong><span>&nbsp;</span>ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">(row2,&nbsp;col2)</code><span>&nbsp;</span>ã€‚</small></big></li></ul><p style="line-height: 1.6; overflow-wrap: break-word;">å®ç°<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">NumMatrix</code><span>&nbsp;</span>ç±»ï¼š</p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">NumMatrix(int[][] matrix)</code>&nbsp;ç»™å®šæ•´æ•°çŸ©é˜µ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">matrix</code><span>&nbsp;</span>è¿›è¡Œåˆå§‹åŒ–</li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">int sumRegion(int row1, int col1, int row2, int col2)</code>&nbsp;è¿”å›<big><small><span>&nbsp;</span><strong style="font-weight: 600;">å·¦ä¸Šè§’</strong></small></big><big><small><span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">(row1,&nbsp;col1)</code>&nbsp;ã€<strong style="font-weight: 600;">å³ä¸‹è§’</strong>&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">(row2,&nbsp;col2)</code></small></big><span>&nbsp;</span>æ‰€æè¿°çš„å­çŸ©é˜µçš„å…ƒç´ <span>&nbsp;</span><strong style="font-weight: 600;">æ€»å’Œ</strong><span>&nbsp;</span>ã€‚</li></ul><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><p style="line-height: 1.6; overflow-wrap: break-word;"><img src="https://labuladong.online/algo/images/lc/1626332422-wUpUHT-image.png" style="max-width: 100%; width: 200px;"></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥:</strong> 
["NumMatrix","sumRegion","sumRegion","sumRegion"]
[[[[3,0,1,4,2],[5,6,3,2,1],[1,2,0,1,5],[4,1,0,1,7],[1,0,3,0,5]]],[2,1,4,3],[1,1,2,2],[1,2,2,4]]
<strong style="font-weight: 600;">è¾“å‡º:</strong> 
[null, 8, 11, 12]

<strong style="font-weight: 600;">è§£é‡Š:</strong>
NumMatrix numMatrix = new NumMatrix([[3,0,1,4,2],[5,6,3,2,1],[1,2,0,1,5],[4,1,0,1,7],[1,0,3,0,5]]);
numMatrix.sumRegion(2, 1, 4, 3); // return 8 (çº¢è‰²çŸ©å½¢æ¡†çš„å…ƒç´ æ€»å’Œ)
numMatrix.sumRegion(1, 1, 2, 2); // return 11 (ç»¿è‰²çŸ©å½¢æ¡†çš„å…ƒç´ æ€»å’Œ)
numMatrix.sumRegion(1, 2, 2, 4); // return 12 (è“è‰²çŸ©å½¢æ¡†çš„å…ƒç´ æ€»å’Œ)
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">m == matrix.length</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n == matrix[i].length</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= m,&nbsp;n &lt;=&nbsp;200</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">-10<sup>5</sup>&nbsp;&lt;= matrix[i][j] &lt;= 10<sup>5</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= row1 &lt;= row2 &lt; m</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= col1 &lt;= col2 &lt; n</code></li><li>æœ€å¤šè°ƒç”¨<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">10<sup>4</sup></code><span>&nbsp;</span>æ¬¡&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">sumRegion</code><span>&nbsp;</span>æ–¹æ³•</li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/range-sum-query-2d-immutable/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜</a>ã€‚</strong></details>

![img](https://labuladong.online/algo/images/presum/5.jpeg)

è€Œè¿™å››ä¸ªå¤§çŸ©é˜µæœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼Œå°±æ˜¯å·¦ä¸Šè§’éƒ½æ˜¯ `(0, 0)` åŸç‚¹ã€‚

é‚£ä¹ˆåšè¿™é“é¢˜æ›´å¥½çš„æ€è·¯å’Œä¸€ç»´æ•°ç»„ä¸­çš„å‰ç¼€å’Œæ˜¯éå¸¸ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸ªäºŒç»´ `preSum` æ•°ç»„ï¼Œä¸“é—¨è®°å½•ä»¥åŸç‚¹ä¸ºé¡¶ç‚¹çš„çŸ©é˜µçš„å…ƒç´ ä¹‹å’Œï¼Œå°±å¯ä»¥ç”¨å‡ æ¬¡åŠ å‡è¿ç®—ç®—å‡ºä»»ä½•ä¸€ä¸ªå­çŸ©é˜µçš„å…ƒç´ å’Œï¼š

java ğŸŸ¢cpp ğŸ¤–python ğŸ¤–go ğŸ¤–javascript ğŸ¤–



```java
class NumMatrix {
    // preSum[i][j] è®°å½•çŸ©é˜µ [0, 0, i-1, j-1] çš„å…ƒç´ å’Œ
    private int[][] preSum;

    public NumMatrix(int[][] matrix) {
        int m = matrix.length, n = matrix[0].length;
        if (m == 0 || n == 0) return;
        // æ„é€ å‰ç¼€å’ŒçŸ©é˜µ
        preSum = new int[m + 1][n + 1];
        for (int i = 1; i <= m; i++) {
            for (int j = 1; j <= n; j++) {
                // è®¡ç®—æ¯ä¸ªçŸ©é˜µ [0, 0, i, j] çš„å…ƒç´ å’Œ
                preSum[i][j] = preSum[i-1][j] + preSum[i][j-1] + matrix[i - 1][j - 1] - preSum[i-1][j-1];
            }
        }
    }

    // è®¡ç®—å­çŸ©é˜µ [x1, y1, x2, y2] çš„å…ƒç´ å’Œ
    public int sumRegion(int x1, int y1, int x2, int y2) {
        // ç›®æ ‡çŸ©é˜µä¹‹å’Œç”±å››ä¸ªç›¸é‚»çŸ©é˜µè¿ç®—è·å¾—
        return preSum[x2+1][y2+1] - preSum[x1][y2+1] - preSum[x2+1][y1] + preSum[x1][y1];
    }
}
```



## 2.6 å°è€Œç¾çš„ç®—æ³•æŠ€å·§ï¼šå·®åˆ†æ•°ç»„

æ­¤é¡µå†…å®¹

- [ç®—æ³•å®è·µ](https://labuladong.online/algo/data-structure/diff-array/#ç®—æ³•å®è·µ)

æœ¬æ–‡è®²è§£çš„ä¾‹é¢˜

|                           LeetCode                           |                             åŠ›æ‰£                             | éš¾åº¦ |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :--: |
| [1094. Car Pooling](https://leetcode.com/problems/car-pooling/) |   [1094. æ‹¼è½¦](https://leetcode.cn/problems/car-pooling/)    |  ğŸŸ    |
| [1109. Corporate Flight Bookings](https://leetcode.com/problems/corporate-flight-bookings/) | [1109. èˆªç­é¢„è®¢ç»Ÿè®¡](https://leetcode.cn/problems/corporate-flight-bookings/) |  ğŸŸ    |
| [370. Range Addition](https://leetcode.com/problems/range-addition/)ğŸ”’ | [370. åŒºé—´åŠ æ³•](https://leetcode.cn/problems/range-addition/)ğŸ”’ |  ğŸŸ    |

å‰ç½®çŸ¥è¯†

é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦å…ˆå­¦ä¹ ï¼š

- [æ•°ç»„åŸºç¡€](https://labuladong.online/algo/data-structure-basic/array-basic/)
- [å‰ç¼€å’ŒæŠ€å·§](https://labuladong.online/algo/data-structure/prefix-sum/)

[å‰ç¼€å’ŒæŠ€å·§](https://labuladong.online/algo/data-structure/prefix-sum/) ä¸»è¦é€‚ç”¨çš„åœºæ™¯æ˜¯åŸå§‹æ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œé¢‘ç¹æŸ¥è¯¢æŸä¸ªåŒºé—´çš„ç´¯åŠ å’Œï¼Œæ ¸å¿ƒä»£ç å°±æ˜¯ä¸‹é¢è¿™æ®µï¼š

```java
class PrefixSum {
    // å‰ç¼€å’Œæ•°ç»„
    private int[] preSum;

    // è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ„é€ å‰ç¼€å’Œ
    public PrefixSum(int[] nums) {
        // preSum[0] = 0ï¼Œä¾¿äºè®¡ç®—ç´¯åŠ å’Œ
        preSum = new int[nums.length + 1];
        // è®¡ç®— nums çš„ç´¯åŠ å’Œ
        for (int i = 1; i < preSum.length; i++) {
            preSum[i] = preSum[i - 1] + nums[i - 1];
        }
    }
    
    // æŸ¥è¯¢é—­åŒºé—´ [left, right] çš„ç´¯åŠ å’Œ
    public int sumRange(int left, int right) {
        return preSum[right + 1] - preSum[left];
    }
}
```

![img](https://labuladong.online/algo/images/difference/1.jpeg)



æœ¬æ–‡è®²ä¸€ä¸ªå’Œå‰ç¼€å’Œæ€æƒ³éå¸¸ç±»ä¼¼çš„ç®—æ³•æŠ€å·§ã€Œå·®åˆ†æ•°ç»„ã€ï¼Œ**å·®åˆ†æ•°ç»„çš„ä¸»è¦é€‚ç”¨åœºæ™¯æ˜¯é¢‘ç¹å¯¹åŸå§‹æ•°ç»„çš„æŸä¸ªåŒºé—´çš„å…ƒç´ è¿›è¡Œå¢å‡**ã€‚

```java
int[] diff = new int[nums.length];
// æ„é€ å·®åˆ†æ•°ç»„
diff[0] = nums[0];
for (int i = 1; i < nums.length; i++) {
    diff[i] = nums[i] - nums[i - 1];
}
```

![img](https://labuladong.online/algo/images/difference/2.jpeg)

é€šè¿‡è¿™ä¸ª `diff` å·®åˆ†æ•°ç»„æ˜¯å¯ä»¥åæ¨å‡ºåŸå§‹æ•°ç»„ `nums` çš„ï¼Œä»£ç é€»è¾‘å¦‚ä¸‹ï¼š

```java
int[] res = new int[diff.length];
// æ ¹æ®å·®åˆ†æ•°ç»„æ„é€ ç»“æœæ•°ç»„
res[0] = diff[0];
for (int i = 1; i < diff.length; i++) {
    res[i] = res[i - 1] + diff[i];
}
```

**è¿™æ ·æ„é€ å·®åˆ†æ•°ç»„ `diff`ï¼Œå°±å¯ä»¥å¿«é€Ÿè¿›è¡ŒåŒºé—´å¢å‡çš„æ“ä½œ**ï¼Œå¦‚æœä½ æƒ³å¯¹åŒºé—´ `nums[i..j]` çš„å…ƒç´ å…¨éƒ¨åŠ  3ï¼Œé‚£ä¹ˆåªéœ€è¦è®© `diff[i] += 3`ï¼Œç„¶åå†è®© `diff[j+1] -= 3` å³å¯ï¼š

![img](https://labuladong.online/algo/images/difference/3.jpeg)

**åŸç†å¾ˆç®€å•ï¼Œå›æƒ³ `diff` æ•°ç»„åæ¨ `nums` æ•°ç»„çš„è¿‡ç¨‹ï¼Œ`diff[i] += 3` æ„å‘³ç€ç»™ `nums[i..]` æ‰€æœ‰çš„å…ƒç´ éƒ½åŠ äº† 3ï¼Œç„¶å `diff[j+1] -= 3` åˆæ„å‘³ç€å¯¹äº `nums[j+1..]` æ‰€æœ‰å…ƒç´ å†å‡ 3ï¼Œé‚£ç»¼åˆèµ·æ¥ï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯å¯¹ `nums[i..j]` ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½åŠ  3 äº†**ï¼Ÿ

### [ç®—æ³•å®è·µ](https://labuladong.online/algo/data-structure/diff-array/#ç®—æ³•å®è·µ)

åŠ›æ‰£ç¬¬ 370 é¢˜ã€Œ[åŒºé—´åŠ æ³•](https://leetcode.cn/problems/range-addition/)ã€ç›´æ¥è€ƒå¯Ÿäº†å·®åˆ†æ•°ç»„æŠ€å·§ï¼Œç›¸å½“äºç»™ä½ è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„ `nums` æ•°ç»„ï¼Œå…¶ä¸­çš„å…ƒç´ åˆå§‹å€¼éƒ½ä¸º 0ï¼Œè®©ä½ å¯¹å…¶ä¸­çš„åŒºé—´å…ƒç´ è¿›è¡Œå¢å‡æ“ä½œï¼Œæœ€åè¿”å›æœ€ç»ˆçš„ `nums` æ•°ç»„ã€‚

```java
class Solution {
    public int[] getModifiedArray(int length, int[][] updates) {
        // nums åˆå§‹åŒ–ä¸ºå…¨ 0
        int[] nums = new int[length];
        // æ„é€ å·®åˆ†è§£æ³•
        Difference df = new Difference(nums);
        for (int[] update : updates) {
            int i = update[0];
            int j = update[1];
            int val = update[2];
            df.increment(i, j, val);
        }
        return df.result();
    }

    class Difference {
        // å·®åˆ†æ•°ç»„
        private int[] diff;

        public Difference(int[] nums) {
            assert nums.length > 0;
            diff = new int[nums.length];
            // æ„é€ å·®åˆ†æ•°ç»„
            diff[0] = nums[0];
            for (int i = 1; i < nums.length; i++) {
                diff[i] = nums[i] - nums[i - 1];
            }
        }

        // ç»™é—­åŒºé—´ [i, j] å¢åŠ  valï¼ˆå¯ä»¥æ˜¯è´Ÿæ•°ï¼‰
        public void increment(int i, int j, int val) {
            diff[i] += val;
            if (j + 1 < diff.length) {
                diff[j + 1] -= val;
            }
        }

        public int[] result() {
            int[] res = new int[diff.length];
            // æ ¹æ®å·®åˆ†æ•°ç»„æ„é€ ç»“æœæ•°ç»„
            res[0] = diff[0];
            for (int i = 1; i < diff.length; i++) {
                res[i] = res[i - 1] + diff[i];
            }
            return res;
        }
    }

}
```

å½“ç„¶ï¼Œå®é™…çš„ç®—æ³•é¢˜å¯èƒ½éœ€è¦æˆ‘ä»¬å¯¹é¢˜ç›®è¿›è¡Œè”æƒ³å’ŒæŠ½è±¡ï¼Œä¸ä¼šè¿™ä¹ˆç›´æ¥åœ°è®©ä½ çœ‹å‡ºæ¥è¦ç”¨å·®åˆ†æ•°ç»„æŠ€å·§ï¼Œè¿™é‡Œçœ‹ä¸€ä¸‹åŠ›æ‰£ç¬¬ 1109 é¢˜ã€Œ[èˆªç­é¢„è®¢ç»Ÿè®¡](https://leetcode.cn/problems/corporate-flight-bookings/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, STHeiti, &quot;Microsoft YaHei&quot;, SimSun, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">1109. èˆªç­é¢„è®¢ç»Ÿè®¡</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/corporate-flight-bookings/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/corporate-flight-bookings/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è¿™é‡Œæœ‰&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n</code>&nbsp;ä¸ªèˆªç­ï¼Œå®ƒä»¬åˆ†åˆ«ä»<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1</code><span>&nbsp;</span>åˆ°<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n</code><span>&nbsp;</span>è¿›è¡Œç¼–å·ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">æœ‰ä¸€ä»½èˆªç­é¢„è®¢è¡¨&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">bookings</code><span>&nbsp;</span>ï¼Œè¡¨ä¸­ç¬¬&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">i</code>&nbsp;æ¡é¢„è®¢è®°å½•&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">bookings[i] = [first<sub>i</sub>, last<sub>i</sub>, seats<sub>i</sub>]</code>&nbsp;æ„å‘³ç€åœ¨ä»<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">first<sub>i</sub></code>&nbsp;åˆ°<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">last<sub>i</sub></code><span>&nbsp;</span>ï¼ˆ<strong style="font-weight: 600;">åŒ…å«</strong><span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">first<sub>i</sub></code><span>&nbsp;</span>å’Œ<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">last<sub>i</sub></code><span>&nbsp;</span>ï¼‰çš„<span>&nbsp;</span><strong style="font-weight: 600;">æ¯ä¸ªèˆªç­</strong><span>&nbsp;</span>ä¸Šé¢„è®¢äº†<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">seats<sub>i</sub></code>&nbsp;ä¸ªåº§ä½ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">n</code><span>&nbsp;</span>çš„æ•°ç»„&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">answer</code>ï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯æ¯ä¸ªèˆªç­é¢„å®šçš„åº§ä½æ€»æ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>bookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[10,55,45,25,25]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
èˆªç­ç¼–å·        1   2   3   4   5
é¢„è®¢è®°å½• 1 ï¼š   10  10
é¢„è®¢è®°å½• 2 ï¼š       20  20
é¢„è®¢è®°å½• 3 ï¼š       25  25  25  25
æ€»åº§ä½æ•°ï¼š      10  55  45  25  25
å› æ­¤ï¼Œanswer = [10,55,45,25,25]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>bookings = [[1,2,10],[2,2,15]], n = 2
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>[10,25]
<strong style="font-weight: 600;">è§£é‡Šï¼š</strong>
èˆªç­ç¼–å·        1   2
é¢„è®¢è®°å½• 1 ï¼š   10  10
é¢„è®¢è®°å½• 2 ï¼š       15
æ€»åº§ä½æ•°ï¼š      10  25
å› æ­¤ï¼Œanswer = [10,25]
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= n &lt;= 2 * 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= bookings.length &lt;= 2 * 10<sup>4</sup></code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">bookings[i].length == 3</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= first<sub>i</sub><span>&nbsp;</span>&lt;= last<sub>i</sub><span>&nbsp;</span>&lt;= n</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= seats<sub>i</sub><span>&nbsp;</span>&lt;= 10<sup>4</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/corporate-flight-bookings/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1109. èˆªç­é¢„è®¢ç»Ÿè®¡</a>ã€‚</strong></details>

```java
class Solution {
    public int[] corpFlightBookings(int[][] bookings, int n) {
        // nums åˆå§‹åŒ–ä¸ºå…¨ 0
        int[] nums = new int[n];
        // æ„é€ å·®åˆ†è§£æ³•
        Difference df = new Difference(nums);

        for (int[] booking : bookings) {
            // æ³¨æ„è½¬æˆæ•°ç»„ç´¢å¼•è¦å‡ä¸€å“¦
            int i = booking[0] - 1;
            int j = booking[1] - 1;
            int val = booking[2];
            // å¯¹åŒºé—´ nums[i..j] å¢åŠ  val
            df.increment(i, j, val);
        }
        // è¿”å›æœ€ç»ˆçš„ç»“æœæ•°ç»„
        return df.result();
    }

    class Difference {
        // å·®åˆ†æ•°ç»„
        private int[] diff;

        public Difference(int[] nums) {
            assert nums.length > 0;
            diff = new int[nums.length];
            // æ„é€ å·®åˆ†æ•°ç»„
            diff[0] = nums[0];
            for (int i = 1; i < nums.length; i++) {
                diff[i] = nums[i] - nums[i - 1];
            }
        }

        // ç»™é—­åŒºé—´ [i, j] å¢åŠ  valï¼ˆå¯ä»¥æ˜¯è´Ÿæ•°ï¼‰
        public void increment(int i, int j, int val) {
            diff[i] += val;
            if (j + 1 < diff.length) {
                diff[j + 1] -= val;
            }
        }

        public int[] result() {
            int[] res = new int[diff.length];
            // æ ¹æ®å·®åˆ†æ•°ç»„æ„é€ ç»“æœæ•°ç»„
            res[0] = diff[0];
            for (int i = 1; i < diff.length; i++) {
                res[i] = res[i - 1] + diff[i];
            }
            return res;
        }
    }

}
```



è¿˜æœ‰ä¸€é“å¾ˆç±»ä¼¼çš„é¢˜ç›®æ˜¯åŠ›æ‰£ç¬¬ 1094 é¢˜ã€Œ[æ‹¼è½¦](https://leetcode.cn/problems/car-pooling/)ã€ï¼š

<details class="hint-container details" open="" style="background: var(--detail-c-bg); transition: background var(--vp-t-transform),color var(--vp-t-transform); display: block; margin-block: 0.75rem; padding: 1.25rem 1rem; border-radius: 0.5rem; color: rgb(60, 60, 67); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto Sans&quot;, STHeiti, &quot;Microsoft YaHei&quot;, SimSun, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Noto Color Emoji&quot;; font-size: 17px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="position: relative; margin: -1rem -1rem 0.5em; padding-block: 1em; padding-inline: 3em 1.5em; list-style: none; font-size: var(--hint-font-size); cursor: pointer;"><strong style="font-weight: 600;">1094. æ‹¼è½¦</strong>&nbsp;|<span>&nbsp;</span><span><a target="_blank" href="https://leetcode.cn/problems/car-pooling/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£<externallinkicon></externallinkicon></a><span>&nbsp;</span>|<span>&nbsp;</span></span><span><a target="_blank" href="https://leetcode.com/problems/car-pooling/" rel="noopener noreferrer" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">LeetCode<externallinkicon></externallinkicon></a><span>&nbsp;</span>|</span><span>&nbsp;</span>&nbsp;ğŸŸ </summary><div><p style="line-height: 1.6; overflow-wrap: break-word;">è½¦ä¸Šæœ€åˆæœ‰&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">capacity</code>&nbsp;ä¸ªç©ºåº§ä½ã€‚è½¦&nbsp;<strong style="font-weight: 600;">åªèƒ½&nbsp;</strong>å‘ä¸€ä¸ªæ–¹å‘è¡Œé©¶ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong style="font-weight: 600;">ä¸å…è®¸æ‰å¤´æˆ–æ”¹å˜æ–¹å‘</strong>ï¼‰</p><p style="line-height: 1.6; overflow-wrap: break-word;">ç»™å®šæ•´æ•°&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">capacity</code>&nbsp;å’Œä¸€ä¸ªæ•°ç»„<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">trips</code><span>&nbsp;</span>, &nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">trip[i] = [numPassengers<sub>i</sub>, from<sub>i</sub>, to<sub>i</sub>]</code>&nbsp;è¡¨ç¤ºç¬¬<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">i</code><span>&nbsp;</span>æ¬¡æ—…è¡Œæœ‰&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">numPassengers<sub>i</sub></code>&nbsp;ä¹˜å®¢ï¼Œæ¥ä»–ä»¬å’Œæ”¾ä»–ä»¬çš„ä½ç½®åˆ†åˆ«æ˜¯&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">from<sub>i</sub></code>&nbsp;å’Œ&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">to<sub>i</sub></code>&nbsp;ã€‚è¿™äº›ä½ç½®æ˜¯ä»æ±½è½¦çš„åˆå§‹ä½ç½®å‘ä¸œçš„å…¬é‡Œæ•°ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;">å½“ä¸”ä»…å½“ä½ å¯ä»¥åœ¨æ‰€æœ‰ç»™å®šçš„è¡Œç¨‹ä¸­æ¥é€æ‰€æœ‰ä¹˜å®¢æ—¶ï¼Œè¿”å›&nbsp;<code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">true</code>ï¼Œå¦åˆ™è¯·è¿”å›<span>&nbsp;</span><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">false</code>ã€‚</p><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 1ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>trips = [[2,1,5],[3,3,7]], capacity = 4
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>false
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">ç¤ºä¾‹ 2ï¼š</strong></p><pre style="text-align: left; direction: ltr; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: unset; tab-size: 4; hyphens: none; overflow: auto;"><strong style="font-weight: 600;">è¾“å…¥ï¼š</strong>trips = [[2,1,5],[3,3,7]], capacity = 5
<strong style="font-weight: 600;">è¾“å‡ºï¼š</strong>true
</pre><p style="line-height: 1.6; overflow-wrap: break-word;"><strong style="font-weight: 600;">æç¤ºï¼š</strong></p><ul style="line-height: 1.6; overflow-wrap: break-word; padding-inline-start: 1.2em;"><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= trips.length &lt;= 1000</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">trips[i].length == 3</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= numPassengers<sub>i</sub>&nbsp;&lt;= 100</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">0 &lt;= from<sub>i</sub>&nbsp;&lt; to<sub>i</sub>&nbsp;&lt;= 1000</code></li><li><code style="font-family: var(--vp-font-mono); margin: 0px; padding: 3px 6px; border-radius: 4px; background: var(--detail-c-soft); font-size: 0.875em; overflow-wrap: break-word; transition: background-color var(--vp-t-color),color var(--vp-t-color);">1 &lt;= capacity &lt;= 10<sup>5</sup></code></li></ul></div><strong style="font-weight: 600; font-size: small;">é¢˜ç›®æ¥æºï¼š<a href="https://leetcode.cn/problems/car-pooling/" target="_blank" style="color: var(--vp-c-accent); font-weight: 500; text-decoration: none; overflow-wrap: break-word;">åŠ›æ‰£ 1094. æ‹¼è½¦</a>ã€‚</strong></details>

```java
class Solution {
    public boolean carPooling(int[][] trips, int capacity) {
        // æœ€å¤šæœ‰ 1000 ä¸ªè½¦ç«™
        int[] nums = new int[1001];
        // æ„é€ å·®åˆ†è§£æ³•
        Difference df = new Difference(nums);

        for (int[] trip : trips) {
            // ä¹˜å®¢æ•°é‡
            int val = trip[0];
            // ç¬¬ trip[1] ç«™ä¹˜å®¢ä¸Šè½¦
            int i = trip[1];
            // ç¬¬ trip[2] ç«™ä¹˜å®¢å·²ç»ä¸‹è½¦ï¼Œ
            // å³ä¹˜å®¢åœ¨è½¦ä¸Šçš„åŒºé—´æ˜¯ [trip[1], trip[2] - 1]
            int j = trip[2] - 1;
            // è¿›è¡ŒåŒºé—´æ“ä½œ
            df.increment(i, j, val);
        }

        int[] res = df.result();

        // å®¢è½¦è‡ªå§‹è‡³ç»ˆéƒ½ä¸åº”è¯¥è¶…è½½
        for (int i = 0; i < res.length; i++) {
            if (capacity < res[i]) {
                return false;
            }
        }
        return true;
    }

    // å·®åˆ†æ•°ç»„å·¥å…·ç±»
    class Difference {
        // å·®åˆ†æ•°ç»„
        private int[] diff;

        // è¾“å…¥ä¸€ä¸ªåˆå§‹æ•°ç»„ï¼ŒåŒºé—´æ“ä½œå°†åœ¨è¿™ä¸ªæ•°ç»„ä¸Šè¿›è¡Œ
        public Difference(int[] nums) {
            assert nums.length > 0;
            diff = new int[nums.length];
            // æ ¹æ®åˆå§‹æ•°ç»„æ„é€ å·®åˆ†æ•°ç»„
            diff[0] = nums[0];
            for (int i = 1; i < nums.length; i++) {
                diff[i] = nums[i] - nums[i - 1];
            }
        }

        // ç»™é—­åŒºé—´ [i, j] å¢åŠ  valï¼ˆå¯ä»¥æ˜¯è´Ÿæ•°ï¼‰
        public void increment(int i, int j, int val) {
            diff[i] += val;
            if (j + 1 < diff.length) {
                diff[j + 1] -= val;
            }
        }

        // è¿”å›ç»“æœæ•°ç»„
        public int[] result() {
            int[] res = new int[diff.length];
            // æ ¹æ®å·®åˆ†æ•°ç»„æ„é€ ç»“æœæ•°ç»„
            res[0] = diff[0];
            for (int i = 1; i < diff.length; i++) {
                res[i] = res[i - 1] + diff[i];
            }
            return res;
        }
    }

}
```

